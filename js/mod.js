// Scroll at the bottom of the page to add your own code
// I recommend using a good codding program, like Virtual Studio Code or Sumblime text
// If you are in Virtual Studio Code click [ALT + Z] to hidde this minified part of the code

// Whole MODDING API [v4.2.8] - It makes this build work!!!
window._originalConsoleLog=console.log;let modRegistered=!1,ShakeEffectOn=null===localStorage.getItem("ShakeEffectOn")||"true"===localStorage.getItem("ShakeEffectOn"),LyricsOn=null===localStorage.getItem("LyricsOn")||"true"===localStorage.getItem("LyricsOn"),BGorFadeOutsOn=null===localStorage.getItem("BGorFadeOutsOn")||"true"===localStorage.getItem("BGorFadeOutsOn"),ModSoundsOn=null===localStorage.getItem("ModSoundsOn")||"true"===localStorage.getItem("ModSoundsOn"),ConfettiEffectOn=null===localStorage.getItem("ConfettiEffectOn")||"true"===localStorage.getItem("ConfettiEffectOn"),CustomCursorsOn=null===localStorage.getItem("CustomCursorsOn")||"true"===localStorage.getItem("CustomCursorsOn"),achiNotificationDot=parseInt(localStorage.getItem("achiNotificationDot"))||0,totalBonusesWatched=parseInt(localStorage.getItem("totalBonusesWatched"))||0,totalVersionsOppened=parseInt(localStorage.getItem("totalVersionsOppened"))||0,totalPolosUsed=parseInt(localStorage.getItem("totalPolosUsed"))||0,totalTimeSpent=parseInt(localStorage.getItem("totalTimeSpent"))||0,sessionStartTime=Date.now();const isOnMobile=/Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent),isOnPC=!isOnMobile,allowedHosts=["10.5.0.2","192.168.43.160","127.0.0.1","localhost"],allowedProtocols=["https:","file:"],currentHost=location.hostname,currentProtocol=location.protocol;if(!allowedHosts.includes("10.5.0.2","192.168.43.160","127.0.0.1","localhost")&&!allowedProtocols.includes("https:","file:"))throw document.body.innerHTML=`\n    <style>\n      body.darkback {\n      background-color:#000000 !important;\n      }\n      body {\n        background-color:#000000 !important;\n        color: #ccc !important;\n        font-family: sans-serif;\n        text-align: center;\n        padding: 100px 20px;\n        display: flex;\n        flex-direction: column;\n      }\n      .anti-hosting-box {\n      background-color: #111;\n      border-radius: 10px;\n      width: 427px;\n      padding: 20px;\n      }\n      a {\n        color: #00aaff;\n      }\n      .title {\n  display: block;\n  overflow: hidden;\n  font-family: ralewaybold, Sans-Serif;\n  font-size: var(--huge-font-size);\n  color: #ccc;\n}\n    </style>\n    <div class="anti-hosting-box">\n      <div class="txt">You are not allowed to host this mod on <b>${currentHost}</b>.</div>\n    </div>\n  `,alert("⚠️ STOP!\n\nThis MOD is meant to be downloaded, not hosted online.\n\nTo protect modder's rights and respect the Incredibox team, web hosting is not allowed.\n\nPlease download and play this mod locally.\n\nLearn more at: https://incredibox.com"),new Error("Blocked: unauthorized domain");function getVersionFromURL(){return new URLSearchParams(window.location.search).get("v")||"Unknown"}setInterval((()=>{let o=Date.now(),n=Math.floor((o-sessionStartTime)/1e3);localStorage.setItem("totalTimeSpent",totalTimeSpent+n)}),1e3),window.addEventListener("beforeunload",(()=>{let o=Math.floor((Date.now()-sessionStartTime)/1e3);localStorage.setItem("totalTimeSpent",totalTimeSpent+o)}));let activeDelays=[],isPausedD=!1,pauseStartTime=null;class PausableDelay{constructor(o,n){this.callback=o,this.delay=n,this.startTime=Date.now(),this.timeRemaining=n,this.timeoutId=null,this.isActive=!0,isPausedD||this.resume()}pause(){this.isActive&&null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null,this.timeRemaining=this.delay-(Date.now()-this.startTime),this.timeRemaining<0&&(this.timeRemaining=0))}resume(){this.isActive&&null===this.timeoutId&&(this.startTime=Date.now(),this.timeoutId=setTimeout((()=>{this.complete()}),this.timeRemaining))}complete(){this.isActive&&(this.isActive=!1,this.callback(),activeDelays=activeDelays.filter((o=>o!==this)))}cancel(){this.isActive&&(this.isActive=!1,null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),activeDelays=activeDelays.filter((o=>o!==this)))}}function OnDelayIn(o,n){const e=new PausableDelay(n,o);return activeDelays.push(e),e}function pauseAllDelays(){isPausedD||(isPausedD=!0,pauseStartTime=Date.now(),activeDelays.forEach((o=>{o.pause()})),"number"==typeof currentFadeTimeout&&null!==currentFadeTimeout&&clearTimeout(currentFadeTimeout))}function resumeAllDelays(){isPausedD&&(isPausedD=!1,pauseStartTime=null,activeDelays.forEach((o=>{o.resume()})))}function cancelAllDelays(){activeDelays.forEach((o=>{o.cancel()})),activeDelays=[],"number"==typeof currentFadeTimeout&&null!==currentFadeTimeout&&(clearTimeout(currentFadeTimeout),currentFadeTimeout=null)}function clearAllDelays(){activeTimeouts.forEach(clearTimeout),activeTimeouts=[]}function SomeTimes(o,n){Math.random()<o&&n()}function showNotification(o,n="polo"){if(document.querySelector(`.notification[data-message="${o}"]`))return;const e=document.createElement("div");e.classList.add("notification",n),e.setAttribute("data-message",o),e.innerHTML=o,document.body.appendChild(e),e.style.position="fixed",e.style.left="43%",e.style.padding="10px",e.style.backgroundColor="rgba(0, 0, 0, 0.8)",e.style.color="white",e.style.borderRadius="5px",e.style.fontFamily="Arial, sans-serif",e.style.fontSize="14px",e.style.zIndex="9999";const t="bonus"===n?60:20;e.style.top=`-${t}px`,e.style.transition="top 0.5s ease-out, opacity 0.5s ease-in-out",setTimeout((()=>{e.style.top=`${t}px`,e.style.opacity="1"}),10),notificationCallbacks[o]&&notificationCallbacks[o](),e.classList.add("notification-slide-in"),setTimeout((()=>{e.style.top=`-${t}px`,e.style.opacity="0",setTimeout((()=>{e.remove()}),500)}),1e3)}function FadeOut(o,n,e=!1,t=null){if(!BGorFadeOutsOn)return;const i=document.getElementById("global-fade");i&&i.remove();const s=document.createElement("div");s.id="global-fade",s.style.position="fixed",s.style.top="0",s.style.left="0",s.style.width="100%",s.style.height="100%",s.style.backgroundColor=o,s.style.zIndex="9999",s.style.pointerEvents="none",s.style.transition=n>0?`opacity ${n}ms ease-in`:"none",s.style.opacity=e?"0":"1",document.body.appendChild(s),s.offsetWidth,n>0?(s.style.opacity=e?"1":"0","function"==typeof t&&setTimeout((()=>t()),n),e||setTimeout((()=>s.remove()),n)):(s.style.opacity=e?"1":"0","function"==typeof t&&t(),e||s.remove())}function Shake(o,n){if(ShakeEffectOn){const e=document.body,t=e.style.cssText;let i=null;const s=l=>{i||(i=l);const c=l-i,a=(n-c)/n,r=(2*Math.random()-1)*o*a,u=(2*Math.random()-1)*o*a;e.style.transform=`translate(${r}px, ${u}px)`,c<n?requestAnimationFrame(s):e.style.cssText=t};requestAnimationFrame(s)}}function PlaySFX(o){if(ModSoundsOn){new Audio(`./${app.folder}sound/mod/${o}`).play().catch((n=>{boxDialog.open(`Oops! We can't play the sound file "${o}".<br><br>Make sure the file exists at:<br><b>${app.folder}sound/mod/${o}</b>`,"~(>_<。)＼")}))}}const notificationCallbacks={"DEBUG: v1 Polo 0 is being used!":onV1Polo0,"DEBUG: v1 Polo 1 is being used!":onV1Polo1,"DEBUG: v1 Polo 2 is being used!":onV1Polo2,"DEBUG: v1 Polo 3 is being used!":onV1Polo3,"DEBUG: v1 Polo 4 is being used!":onV1Polo4,"DEBUG: v1 Polo 5 is being used!":onV1Polo5,"DEBUG: v1 Polo 6 is being used!":onV1Polo6,"DEBUG: v1 Polo 7 is being used!":onV1Polo7,"DEBUG: v1 Polo 8 is being used!":onV1Polo8,"DEBUG: v1 Polo 9 is being used!":onV1Polo9,"DEBUG: v1 Polo 10 is being used!":onV1Polo10,"DEBUG: v1 Polo 11 is being used!":onV1Polo11,"DEBUG: v1 Polo 12 is being used!":onV1Polo12,"DEBUG: v1 Polo 13 is being used!":onV1Polo13,"DEBUG: v1 Polo 14 is being used!":onV1Polo14,"DEBUG: v1 Polo 15 is being used!":onV1Polo15,"DEBUG: v1 Polo 16 is being used!":onV1Polo16,"DEBUG: v1 Polo 17 is being used!":onV1Polo17,"DEBUG: v1 Polo 18 is being used!":onV1Polo18,"DEBUG: v1 Polo 19 is being used!":onV1Polo19,"DEBUG: v1 Polo 20 is being used!":onV1Polo20,"DEBUG: v1 Polo 21 is being used!":onV1Polo21,"DEBUG: v1 Polo 22 is being used!":onV1Polo22,"DEBUG: v1 Polo 23 is being used!":onV1Polo23,"DEBUG: v2 Polo 0 is being used!":onV2Polo0,"DEBUG: v2 Polo 1 is being used!":onV2Polo1,"DEBUG: v2 Polo 2 is being used!":onV2Polo2,"DEBUG: v2 Polo 3 is being used!":onV2Polo3,"DEBUG: v2 Polo 4 is being used!":onV2Polo4,"DEBUG: v2 Polo 5 is being used!":onV2Polo5,"DEBUG: v2 Polo 6 is being used!":onV2Polo6,"DEBUG: v2 Polo 7 is being used!":onV2Polo7,"DEBUG: v2 Polo 8 is being used!":onV2Polo8,"DEBUG: v2 Polo 9 is being used!":onV2Polo9,"DEBUG: v2 Polo 10 is being used!":onV2Polo10,"DEBUG: v2 Polo 11 is being used!":onV2Polo11,"DEBUG: v2 Polo 12 is being used!":onV2Polo12,"DEBUG: v2 Polo 13 is being used!":onV2Polo13,"DEBUG: v2 Polo 14 is being used!":onV2Polo14,"DEBUG: v2 Polo 15 is being used!":onV2Polo15,"DEBUG: v2 Polo 16 is being used!":onV2Polo16,"DEBUG: v2 Polo 17 is being used!":onV2Polo17,"DEBUG: v2 Polo 18 is being used!":onV2Polo18,"DEBUG: v2 Polo 19 is being used!":onV2Polo19,"DEBUG: v2 Polo 20 is being used!":onV2Polo20,"DEBUG: v2 Polo 21 is being used!":onV2Polo21,"DEBUG: v2 Polo 22 is being used!":onV2Polo22,"DEBUG: v2 Polo 23 is being used!":onV2Polo23,"DEBUG: v3 Polo 0 is being used!":onV3Polo0,"DEBUG: v3 Polo 1 is being used!":onV3Polo1,"DEBUG: v3 Polo 2 is being used!":onV3Polo2,"DEBUG: v3 Polo 3 is being used!":onV3Polo3,"DEBUG: v3 Polo 4 is being used!":onV3Polo4,"DEBUG: v3 Polo 5 is being used!":onV3Polo5,"DEBUG: v3 Polo 6 is being used!":onV3Polo6,"DEBUG: v3 Polo 7 is being used!":onV3Polo7,"DEBUG: v3 Polo 8 is being used!":onV3Polo8,"DEBUG: v3 Polo 9 is being used!":onV3Polo9,"DEBUG: v3 Polo 10 is being used!":onV3Polo10,"DEBUG: v3 Polo 11 is being used!":onV3Polo11,"DEBUG: v3 Polo 12 is being used!":onV3Polo12,"DEBUG: v3 Polo 13 is being used!":onV3Polo13,"DEBUG: v3 Polo 14 is being used!":onV3Polo14,"DEBUG: v3 Polo 15 is being used!":onV3Polo15,"DEBUG: v3 Polo 16 is being used!":onV3Polo16,"DEBUG: v3 Polo 17 is being used!":onV3Polo17,"DEBUG: v3 Polo 18 is being used!":onV3Polo18,"DEBUG: v3 Polo 19 is being used!":onV3Polo19,"DEBUG: v3 Polo 20 is being used!":onV3Polo20,"DEBUG: v3 Polo 21 is being used!":onV3Polo21,"DEBUG: v3 Polo 22 is being used!":onV3Polo22,"DEBUG: v3 Polo 23 is being used!":onV3Polo23,"DEBUG: v4 Polo 0 is being used!":onV4Polo0,"DEBUG: v4 Polo 1 is being used!":onV4Polo1,"DEBUG: v4 Polo 2 is being used!":onV4Polo2,"DEBUG: v4 Polo 3 is being used!":onV4Polo3,"DEBUG: v4 Polo 4 is being used!":onV4Polo4,"DEBUG: v4 Polo 5 is being used!":onV4Polo5,"DEBUG: v4 Polo 6 is being used!":onV4Polo6,"DEBUG: v4 Polo 7 is being used!":onV4Polo7,"DEBUG: v4 Polo 8 is being used!":onV4Polo8,"DEBUG: v4 Polo 9 is being used!":onV4Polo9,"DEBUG: v4 Polo 10 is being used!":onV4Polo10,"DEBUG: v4 Polo 11 is being used!":onV4Polo11,"DEBUG: v4 Polo 12 is being used!":onV4Polo12,"DEBUG: v4 Polo 13 is being used!":onV4Polo13,"DEBUG: v4 Polo 14 is being used!":onV4Polo14,"DEBUG: v4 Polo 15 is being used!":onV4Polo15,"DEBUG: v4 Polo 16 is being used!":onV4Polo16,"DEBUG: v4 Polo 17 is being used!":onV4Polo17,"DEBUG: v4 Polo 18 is being used!":onV4Polo18,"DEBUG: v4 Polo 19 is being used!":onV4Polo19,"DEBUG: v4 Polo 20 is being used!":onV4Polo20,"DEBUG: v4 Polo 21 is being used!":onV4Polo21,"DEBUG: v4 Polo 22 is being used!":onV4Polo22,"DEBUG: v4 Polo 23 is being used!":onV4Polo23,"DEBUG: v5 Polo 0 is being used!":onV5Polo0,"DEBUG: v5 Polo 1 is being used!":onV5Polo1,"DEBUG: v5 Polo 2 is being used!":onV5Polo2,"DEBUG: v5 Polo 3 is being used!":onV5Polo3,"DEBUG: v5 Polo 4 is being used!":onV5Polo4,"DEBUG: v5 Polo 5 is being used!":onV5Polo5,"DEBUG: v5 Polo 6 is being used!":onV5Polo6,"DEBUG: v5 Polo 7 is being used!":onV5Polo7,"DEBUG: v5 Polo 8 is being used!":onV5Polo8,"DEBUG: v5 Polo 9 is being used!":onV5Polo9,"DEBUG: v5 Polo 10 is being used!":onV5Polo10,"DEBUG: v5 Polo 11 is being used!":onV5Polo11,"DEBUG: v5 Polo 12 is being used!":onV5Polo12,"DEBUG: v5 Polo 13 is being used!":onV5Polo13,"DEBUG: v5 Polo 14 is being used!":onV5Polo14,"DEBUG: v5 Polo 15 is being used!":onV5Polo15,"DEBUG: v5 Polo 16 is being used!":onV5Polo16,"DEBUG: v5 Polo 17 is being used!":onV5Polo17,"DEBUG: v5 Polo 18 is being used!":onV5Polo18,"DEBUG: v5 Polo 19 is being used!":onV5Polo19,"DEBUG: v5 Polo 20 is being used!":onV5Polo20,"DEBUG: v5 Polo 21 is being used!":onV5Polo21,"DEBUG: v5 Polo 22 is being used!":onV5Polo22,"DEBUG: v5 Polo 23 is being used!":onV5Polo23,"DEBUG: v6 Polo 0 is being used!":onV6Polo0,"DEBUG: v6 Polo 1 is being used!":onV6Polo1,"DEBUG: v6 Polo 2 is being used!":onV6Polo2,"DEBUG: v6 Polo 3 is being used!":onV6Polo3,"DEBUG: v6 Polo 4 is being used!":onV6Polo4,"DEBUG: v6 Polo 5 is being used!":onV6Polo5,"DEBUG: v6 Polo 6 is being used!":onV6Polo6,"DEBUG: v6 Polo 7 is being used!":onV6Polo7,"DEBUG: v6 Polo 8 is being used!":onV6Polo8,"DEBUG: v6 Polo 9 is being used!":onV6Polo9,"DEBUG: v6 Polo 10 is being used!":onV6Polo10,"DEBUG: v6 Polo 11 is being used!":onV6Polo11,"DEBUG: v6 Polo 12 is being used!":onV6Polo12,"DEBUG: v6 Polo 13 is being used!":onV6Polo13,"DEBUG: v6 Polo 14 is being used!":onV6Polo14,"DEBUG: v6 Polo 15 is being used!":onV6Polo15,"DEBUG: v6 Polo 16 is being used!":onV6Polo16,"DEBUG: v6 Polo 17 is being used!":onV6Polo17,"DEBUG: v6 Polo 18 is being used!":onV6Polo18,"DEBUG: v6 Polo 19 is being used!":onV6Polo19,"DEBUG: v6 Polo 20 is being used!":onV6Polo20,"DEBUG: v6 Polo 21 is being used!":onV6Polo21,"DEBUG: v6 Polo 22 is being used!":onV6Polo22,"DEBUG: v6 Polo 23 is being used!":onV6Polo23,"DEBUG: v7 Polo 0 is being used!":onV7Polo0,"DEBUG: v7 Polo 1 is being used!":onV7Polo1,"DEBUG: v7 Polo 2 is being used!":onV7Polo2,"DEBUG: v7 Polo 3 is being used!":onV7Polo3,"DEBUG: v7 Polo 4 is being used!":onV7Polo4,"DEBUG: v7 Polo 5 is being used!":onV7Polo5,"DEBUG: v7 Polo 6 is being used!":onV7Polo6,"DEBUG: v7 Polo 7 is being used!":onV7Polo7,"DEBUG: v7 Polo 8 is being used!":onV7Polo8,"DEBUG: v7 Polo 9 is being used!":onV7Polo9,"DEBUG: v7 Polo 10 is being used!":onV7Polo10,"DEBUG: v7 Polo 11 is being used!":onV7Polo11,"DEBUG: v7 Polo 12 is being used!":onV7Polo12,"DEBUG: v7 Polo 13 is being used!":onV7Polo13,"DEBUG: v7 Polo 14 is being used!":onV7Polo14,"DEBUG: v7 Polo 15 is being used!":onV7Polo15,"DEBUG: v7 Polo 16 is being used!":onV7Polo16,"DEBUG: v7 Polo 17 is being used!":onV7Polo17,"DEBUG: v7 Polo 18 is being used!":onV7Polo18,"DEBUG: v7 Polo 19 is being used!":onV7Polo19,"DEBUG: v7 Polo 20 is being used!":onV7Polo20,"DEBUG: v7 Polo 21 is being used!":onV7Polo21,"DEBUG: v7 Polo 22 is being used!":onV7Polo22,"DEBUG: v7 Polo 23 is being used!":onV7Polo23,"DEBUG: v8 Polo 0 is being used!":onV8Polo0,"DEBUG: v8 Polo 1 is being used!":onV8Polo1,"DEBUG: v8 Polo 2 is being used!":onV8Polo2,"DEBUG: v8 Polo 3 is being used!":onV8Polo3,"DEBUG: v8 Polo 4 is being used!":onV8Polo4,"DEBUG: v8 Polo 5 is being used!":onV8Polo5,"DEBUG: v8 Polo 6 is being used!":onV8Polo6,"DEBUG: v8 Polo 7 is being used!":onV8Polo7,"DEBUG: v8 Polo 8 is being used!":onV8Polo8,"DEBUG: v8 Polo 9 is being used!":onV8Polo9,"DEBUG: v8 Polo 10 is being used!":onV8Polo10,"DEBUG: v8 Polo 11 is being used!":onV8Polo11,"DEBUG: v8 Polo 12 is being used!":onV8Polo12,"DEBUG: v8 Polo 13 is being used!":onV8Polo13,"DEBUG: v8 Polo 14 is being used!":onV8Polo14,"DEBUG: v8 Polo 15 is being used!":onV8Polo15,"DEBUG: v8 Polo 16 is being used!":onV8Polo16,"DEBUG: v8 Polo 17 is being used!":onV8Polo17,"DEBUG: v8 Polo 18 is being used!":onV8Polo18,"DEBUG: v8 Polo 19 is being used!":onV8Polo19,"DEBUG: v8 Polo 20 is being used!":onV8Polo20,"DEBUG: v8 Polo 21 is being used!":onV8Polo21,"DEBUG: v8 Polo 22 is being used!":onV8Polo22,"DEBUG: v8 Polo 23 is being used!":onV8Polo23,"DEBUG: v9 Polo 0 is being used!":onV9Polo0,"DEBUG: v9 Polo 1 is being used!":onV9Polo1,"DEBUG: v9 Polo 2 is being used!":onV9Polo2,"DEBUG: v9 Polo 3 is being used!":onV9Polo3,"DEBUG: v9 Polo 4 is being used!":onV9Polo4,"DEBUG: v9 Polo 5 is being used!":onV9Polo5,"DEBUG: v9 Polo 6 is being used!":onV9Polo6,"DEBUG: v9 Polo 7 is being used!":onV9Polo7,"DEBUG: v9 Polo 8 is being used!":onV9Polo8,"DEBUG: v9 Polo 9 is being used!":onV9Polo9,"DEBUG: v9 Polo 10 is being used!":onV9Polo10,"DEBUG: v9 Polo 11 is being used!":onV9Polo11,"DEBUG: v9 Polo 12 is being used!":onV9Polo12,"DEBUG: v9 Polo 13 is being used!":onV9Polo13,"DEBUG: v9 Polo 14 is being used!":onV9Polo14,"DEBUG: v9 Polo 15 is being used!":onV9Polo15,"DEBUG: v9 Polo 16 is being used!":onV9Polo16,"DEBUG: v9 Polo 17 is being used!":onV9Polo17,"DEBUG: v9 Polo 18 is being used!":onV9Polo18,"DEBUG: v9 Polo 19 is being used!":onV9Polo19,"DEBUG: v9 Polo 20 is being used!":onV9Polo20,"DEBUG: v9 Polo 21 is being used!":onV9Polo21,"DEBUG: v9 Polo 22 is being used!":onV9Polo22,"DEBUG: v9 Polo 23 is being used!":onV9Polo23,"DEBUG: v1 Bonus 1 has finished playing!":onV1Bonus1Finished,"DEBUG: v1 Bonus 2 has finished playing!":onV1Bonus2Finished,"DEBUG: v1 Bonus 3 has finished playing!":onV1Bonus3Finished,"DEBUG: v2 Bonus 1 has finished playing!":onV2Bonus1Finished,"DEBUG: v2 Bonus 2 has finished playing!":onV2Bonus2Finished,"DEBUG: v2 Bonus 3 has finished playing!":onV2Bonus3Finished,"DEBUG: v3 Bonus 1 has finished playing!":onV3Bonus1Finished,"DEBUG: v3 Bonus 2 has finished playing!":onV3Bonus2Finished,"DEBUG: v3 Bonus 3 has finished playing!":onV3Bonus3Finished,"DEBUG: v4 Bonus 1 has finished playing!":onV4Bonus1Finished,"DEBUG: v4 Bonus 2 has finished playing!":onV4Bonus2Finished,"DEBUG: v4 Bonus 3 has finished playing!":onV4Bonus3Finished,"DEBUG: v5 Bonus 1 has finished playing!":onV5Bonus1Finished,"DEBUG: v5 Bonus 2 has finished playing!":onV5Bonus2Finished,"DEBUG: v5 Bonus 3 has finished playing!":onV5Bonus3Finished,"DEBUG: v6 Bonus 1 has finished playing!":onV6Bonus1Finished,"DEBUG: v6 Bonus 2 has finished playing!":onV6Bonus2Finished,"DEBUG: v6 Bonus 3 has finished playing!":onV6Bonus3Finished,"DEBUG: v7 Bonus 1 has finished playing!":onV7Bonus1Finished,"DEBUG: v7 Bonus 2 has finished playing!":onV7Bonus2Finished,"DEBUG: v7 Bonus 3 has finished playing!":onV7Bonus3Finished,"DEBUG: v8 Bonus 1 has finished playing!":onV8Bonus1Finished,"DEBUG: v8 Bonus 2 has finished playing!":onV8Bonus2Finished,"DEBUG: v8 Bonus 3 has finished playing!":onV8Bonus3Finished,"DEBUG: v9 Bonus 1 has finished playing!":onV9Bonus1Finished,"DEBUG: v9 Bonus 2 has finished playing!":onV9Bonus2Finished,"DEBUG: v9 Bonus 3 has finished playing!":onV9Bonus3Finished,"DEBUG: v1 just started!":onV1Start,"DEBUG: v2 just started!":onV2Start,"DEBUG: v3 just started!":onV3Start,"DEBUG: v4 just started!":onV4Start,"DEBUG: v5 just started!":onV5Start,"DEBUG: v6 just started!":onV6Start,"DEBUG: v7 just started!":onV7Start,"DEBUG: v8 just started!":onV8Start,"DEBUG: v9 just started!":onV9Start,"DEBUG: v1 Bonus 1 is playing!":onV1Bonus1Started,"DEBUG: v1 Bonus 2 is playing!":onV1Bonus2Started,"DEBUG: v1 Bonus 3 is playing!":onV1Bonus3Started,"DEBUG: v2 Bonus 1 is playing!":onV2Bonus1Started,"DEBUG: v2 Bonus 2 is playing!":onV2Bonus2Started,"DEBUG: v2 Bonus 3 is playing!":onV2Bonus3Started,"DEBUG: v3 Bonus 1 is playing!":onV3Bonus1Started,"DEBUG: v3 Bonus 2 is playing!":onV3Bonus2Started,"DEBUG: v3 Bonus 3 is playing!":onV3Bonus3Started,"DEBUG: v4 Bonus 1 is playing!":onV4Bonus1Started,"DEBUG: v4 Bonus 2 is playing!":onV4Bonus2Started,"DEBUG: v4 Bonus 3 is playing!":onV4Bonus3Started,"DEBUG: v5 Bonus 1 is playing!":onV5Bonus1Started,"DEBUG: v5 Bonus 2 is playing!":onV5Bonus2Started,"DEBUG: v5 Bonus 3 is playing!":onV5Bonus3Started,"DEBUG: v6 Bonus 1 is playing!":onV6Bonus1Started,"DEBUG: v6 Bonus 2 is playing!":onV6Bonus2Started,"DEBUG: v6 Bonus 3 is playing!":onV6Bonus3Started,"DEBUG: v7 Bonus 1 is playing!":onV7Bonus1Started,"DEBUG: v7 Bonus 2 is playing!":onV7Bonus2Started,"DEBUG: v7 Bonus 3 is playing!":onV7Bonus3Started,"DEBUG: v8 Bonus 1 is playing!":onV8Bonus1Started,"DEBUG: v8 Bonus 2 is playing!":onV8Bonus2Started,"DEBUG: v8 Bonus 3 is playing!":onV8Bonus3Started,"DEBUG: v9 Bonus 1 is playing!":onV9Bonus1Started,"DEBUG: v9 Bonus 2 is playing!":onV9Bonus2Started,"DEBUG: v9 Bonus 3 is playing!":onV9Bonus3Started,"Trying to open locked icon 1":onLockedIcon1,"Trying to open locked icon 2":onLockedIcon2,"Trying to open locked icon 3":onLockedIcon3,"Trying to open locked icon 4":onLockedIcon4,"Trying to open locked icon 5":onLockedIcon5,"Trying to open locked icon 6":onLockedIcon6,"Trying to open locked icon 7":onLockedIcon7,"Trying to open locked icon 8":onLockedIcon8,"Trying to open locked icon 9":onLockedIcon9,"Trying to open locked icon 10":onLockedIcon10,"Trying to open locked icon 11":onLockedIcon11,"Trying to open locked icon 12":onLockedIcon12,"Trying to open locked icon 13":onLockedIcon13,"Trying to open locked icon 14":onLockedIcon14,"Trying to open locked icon 15":onLockedIcon15,"Trying to open locked icon 16":onLockedIcon16,"Trying to open locked icon 17":onLockedIcon17,"Trying to open locked icon 18":onLockedIcon18,"Trying to open locked icon 19":onLockedIcon19,"Trying to open locked icon 20":onLockedIcon20,"Trying to open locked icon":onLockedIcon,"DEBUG: v1 Polo 0 is no longer used!":offV1Polo0,"DEBUG: v1 Polo 1 is no longer used!":offV1Polo1,"DEBUG: v1 Polo 2 is no longer used!":offV1Polo2,"DEBUG: v1 Polo 3 is no longer used!":offV1Polo3,"DEBUG: v1 Polo 4 is no longer used!":offV1Polo4,"DEBUG: v1 Polo 5 is no longer used!":offV1Polo5,"DEBUG: v1 Polo 6 is no longer used!":offV1Polo6,"DEBUG: v1 Polo 7 is no longer used!":offV1Polo7,"DEBUG: v1 Polo 8 is no longer used!":offV1Polo8,"DEBUG: v1 Polo 9 is no longer used!":offV1Polo9,"DEBUG: v1 Polo 10 is no longer used!":offV1Polo10,"DEBUG: v1 Polo 11 is no longer used!":offV1Polo11,"DEBUG: v1 Polo 12 is no longer used!":offV1Polo12,"DEBUG: v1 Polo 13 is no longer used!":offV1Polo13,"DEBUG: v1 Polo 14 is no longer used!":offV1Polo14,"DEBUG: v1 Polo 15 is no longer used!":offV1Polo15,"DEBUG: v1 Polo 16 is no longer used!":offV1Polo16,"DEBUG: v1 Polo 17 is no longer used!":offV1Polo17,"DEBUG: v1 Polo 18 is no longer used!":offV1Polo18,"DEBUG: v1 Polo 19 is no longer used!":offV1Polo19,"DEBUG: v1 Polo 20 is no longer used!":offV1Polo20,"DEBUG: v1 Polo 21 is no longer used!":offV1Polo21,"DEBUG: v1 Polo 22 is no longer used!":offV1Polo22,"DEBUG: v1 Polo 23 is no longer used!":offV1Polo23,"DEBUG: v2 Polo 0 is no longer used!":offV2Polo0,"DEBUG: v2 Polo 1 is no longer used!":offV2Polo1,"DEBUG: v2 Polo 2 is no longer used!":offV2Polo2,"DEBUG: v2 Polo 3 is no longer used!":offV2Polo3,"DEBUG: v2 Polo 4 is no longer used!":offV2Polo4,"DEBUG: v2 Polo 5 is no longer used!":offV2Polo5,"DEBUG: v2 Polo 6 is no longer used!":offV2Polo6,"DEBUG: v2 Polo 7 is no longer used!":offV2Polo7,"DEBUG: v2 Polo 8 is no longer used!":offV2Polo8,"DEBUG: v2 Polo 9 is no longer used!":offV2Polo9,"DEBUG: v2 Polo 10 is no longer used!":offV2Polo10,"DEBUG: v2 Polo 11 is no longer used!":offV2Polo11,"DEBUG: v2 Polo 12 is no longer used!":offV2Polo12,"DEBUG: v2 Polo 13 is no longer used!":offV2Polo13,"DEBUG: v2 Polo 14 is no longer used!":offV2Polo14,"DEBUG: v2 Polo 15 is no longer used!":offV2Polo15,"DEBUG: v2 Polo 16 is no longer used!":offV2Polo16,"DEBUG: v2 Polo 17 is no longer used!":offV2Polo17,"DEBUG: v2 Polo 18 is no longer used!":offV2Polo18,"DEBUG: v2 Polo 19 is no longer used!":offV2Polo19,"DEBUG: v2 Polo 20 is no longer used!":offV2Polo20,"DEBUG: v2 Polo 21 is no longer used!":offV2Polo21,"DEBUG: v2 Polo 22 is no longer used!":offV2Polo22,"DEBUG: v2 Polo 23 is no longer used!":offV2Polo23,"DEBUG: v3 Polo 0 is no longer used!":offV3Polo0,"DEBUG: v3 Polo 1 is no longer used!":offV3Polo1,"DEBUG: v3 Polo 2 is no longer used!":offV3Polo2,"DEBUG: v3 Polo 3 is no longer used!":offV3Polo3,"DEBUG: v3 Polo 4 is no longer used!":offV3Polo4,"DEBUG: v3 Polo 5 is no longer used!":offV3Polo5,"DEBUG: v3 Polo 6 is no longer used!":offV3Polo6,"DEBUG: v3 Polo 7 is no longer used!":offV3Polo7,"DEBUG: v3 Polo 8 is no longer used!":offV3Polo8,"DEBUG: v3 Polo 9 is no longer used!":offV3Polo9,"DEBUG: v3 Polo 10 is no longer used!":offV3Polo10,"DEBUG: v3 Polo 11 is no longer used!":offV3Polo11,"DEBUG: v3 Polo 12 is no longer used!":offV3Polo12,"DEBUG: v3 Polo 13 is no longer used!":offV3Polo13,"DEBUG: v3 Polo 14 is no longer used!":offV3Polo14,"DEBUG: v3 Polo 15 is no longer used!":offV3Polo15,"DEBUG: v3 Polo 16 is no longer used!":offV3Polo16,"DEBUG: v3 Polo 17 is no longer used!":offV3Polo17,"DEBUG: v3 Polo 18 is no longer used!":offV3Polo18,"DEBUG: v3 Polo 19 is no longer used!":offV3Polo19,"DEBUG: v3 Polo 20 is no longer used!":offV3Polo20,"DEBUG: v3 Polo 21 is no longer used!":offV3Polo21,"DEBUG: v3 Polo 22 is no longer used!":offV3Polo22,"DEBUG: v3 Polo 23 is no longer used!":offV3Polo23,"DEBUG: v4 Polo 0 is no longer used!":offV4Polo0,"DEBUG: v4 Polo 1 is no longer used!":offV4Polo1,"DEBUG: v4 Polo 2 is no longer used!":offV4Polo2,"DEBUG: v4 Polo 3 is no longer used!":offV4Polo3,"DEBUG: v4 Polo 4 is no longer used!":offV4Polo4,"DEBUG: v4 Polo 5 is no longer used!":offV4Polo5,"DEBUG: v4 Polo 6 is no longer used!":offV4Polo6,"DEBUG: v4 Polo 7 is no longer used!":offV4Polo7,"DEBUG: v4 Polo 8 is no longer used!":offV4Polo8,"DEBUG: v4 Polo 9 is no longer used!":offV4Polo9,"DEBUG: v4 Polo 10 is no longer used!":offV4Polo10,"DEBUG: v4 Polo 11 is no longer used!":offV4Polo11,"DEBUG: v4 Polo 12 is no longer used!":offV4Polo12,"DEBUG: v4 Polo 13 is no longer used!":offV4Polo13,"DEBUG: v4 Polo 14 is no longer used!":offV4Polo14,"DEBUG: v4 Polo 15 is no longer used!":offV4Polo15,"DEBUG: v4 Polo 16 is no longer used!":offV4Polo16,"DEBUG: v4 Polo 17 is no longer used!":offV4Polo17,"DEBUG: v4 Polo 18 is no longer used!":offV4Polo18,"DEBUG: v4 Polo 19 is no longer used!":offV4Polo19,"DEBUG: v4 Polo 20 is no longer used!":offV4Polo20,"DEBUG: v4 Polo 21 is no longer used!":offV4Polo21,"DEBUG: v4 Polo 22 is no longer used!":offV4Polo22,"DEBUG: v4 Polo 23 is no longer used!":offV4Polo23,"DEBUG: v5 Polo 0 is no longer used!":offV5Polo0,"DEBUG: v5 Polo 1 is no longer used!":offV5Polo1,"DEBUG: v5 Polo 2 is no longer used!":offV5Polo2,"DEBUG: v5 Polo 3 is no longer used!":offV5Polo3,"DEBUG: v5 Polo 4 is no longer used!":offV5Polo4,"DEBUG: v5 Polo 5 is no longer used!":offV5Polo5,"DEBUG: v5 Polo 6 is no longer used!":offV5Polo6,"DEBUG: v5 Polo 7 is no longer used!":offV5Polo7,"DEBUG: v5 Polo 8 is no longer used!":offV5Polo8,"DEBUG: v5 Polo 9 is no longer used!":offV5Polo9,"DEBUG: v5 Polo 10 is no longer used!":offV5Polo10,"DEBUG: v5 Polo 11 is no longer used!":offV5Polo11,"DEBUG: v5 Polo 12 is no longer used!":offV5Polo12,"DEBUG: v5 Polo 13 is no longer used!":offV5Polo13,"DEBUG: v5 Polo 14 is no longer used!":offV5Polo14,"DEBUG: v5 Polo 15 is no longer used!":offV5Polo15,"DEBUG: v5 Polo 16 is no longer used!":offV5Polo16,"DEBUG: v5 Polo 17 is no longer used!":offV5Polo17,"DEBUG: v5 Polo 18 is no longer used!":offV5Polo18,"DEBUG: v5 Polo 19 is no longer used!":offV5Polo19,"DEBUG: v5 Polo 20 is no longer used!":offV5Polo20,"DEBUG: v5 Polo 21 is no longer used!":offV5Polo21,"DEBUG: v5 Polo 22 is no longer used!":offV5Polo22,"DEBUG: v5 Polo 23 is no longer used!":offV5Polo23,"DEBUG: v6 Polo 0 is no longer used!":offV6Polo0,"DEBUG: v6 Polo 1 is no longer used!":offV6Polo1,"DEBUG: v6 Polo 2 is no longer used!":offV6Polo2,"DEBUG: v6 Polo 3 is no longer used!":offV6Polo3,"DEBUG: v6 Polo 4 is no longer used!":offV6Polo4,"DEBUG: v6 Polo 5 is no longer used!":offV6Polo5,"DEBUG: v6 Polo 6 is no longer used!":offV6Polo6,"DEBUG: v6 Polo 7 is no longer used!":offV6Polo7,"DEBUG: v6 Polo 8 is no longer used!":offV6Polo8,"DEBUG: v6 Polo 9 is no longer used!":offV6Polo9,"DEBUG: v6 Polo 10 is no longer used!":offV6Polo10,"DEBUG: v6 Polo 11 is no longer used!":offV6Polo11,"DEBUG: v6 Polo 12 is no longer used!":offV6Polo12,"DEBUG: v6 Polo 13 is no longer used!":offV6Polo13,"DEBUG: v6 Polo 14 is no longer used!":offV6Polo14,"DEBUG: v6 Polo 15 is no longer used!":offV6Polo15,"DEBUG: v6 Polo 16 is no longer used!":offV6Polo16,"DEBUG: v6 Polo 17 is no longer used!":offV6Polo17,"DEBUG: v6 Polo 18 is no longer used!":offV6Polo18,"DEBUG: v6 Polo 19 is no longer used!":offV6Polo19,"DEBUG: v6 Polo 20 is no longer used!":offV6Polo20,"DEBUG: v6 Polo 21 is no longer used!":offV6Polo21,"DEBUG: v6 Polo 22 is no longer used!":offV6Polo22,"DEBUG: v6 Polo 23 is no longer used!":offV6Polo23,"DEBUG: v7 Polo 0 is no longer used!":offV7Polo0,"DEBUG: v7 Polo 1 is no longer used!":offV7Polo1,"DEBUG: v7 Polo 2 is no longer used!":offV7Polo2,"DEBUG: v7 Polo 3 is no longer used!":offV7Polo3,"DEBUG: v7 Polo 4 is no longer used!":offV7Polo4,"DEBUG: v7 Polo 5 is no longer used!":offV7Polo5,"DEBUG: v7 Polo 6 is no longer used!":offV7Polo6,"DEBUG: v7 Polo 7 is no longer used!":offV7Polo7,"DEBUG: v7 Polo 8 is no longer used!":offV7Polo8,"DEBUG: v7 Polo 9 is no longer used!":offV7Polo9,"DEBUG: v7 Polo 10 is no longer used!":offV7Polo10,"DEBUG: v7 Polo 11 is no longer used!":offV7Polo11,"DEBUG: v7 Polo 12 is no longer used!":offV7Polo12,"DEBUG: v7 Polo 13 is no longer used!":offV7Polo13,"DEBUG: v7 Polo 14 is no longer used!":offV7Polo14,"DEBUG: v7 Polo 15 is no longer used!":offV7Polo15,"DEBUG: v7 Polo 16 is no longer used!":offV7Polo16,"DEBUG: v7 Polo 17 is no longer used!":offV7Polo17,"DEBUG: v7 Polo 18 is no longer used!":offV7Polo18,"DEBUG: v7 Polo 19 is no longer used!":offV7Polo19,"DEBUG: v7 Polo 20 is no longer used!":offV7Polo20,"DEBUG: v7 Polo 21 is no longer used!":offV7Polo21,"DEBUG: v7 Polo 22 is no longer used!":offV7Polo22,"DEBUG: v7 Polo 23 is no longer used!":offV7Polo23,"DEBUG: v8 Polo 0 is no longer used!":offV8Polo0,"DEBUG: v8 Polo 1 is no longer used!":offV8Polo1,"DEBUG: v8 Polo 2 is no longer used!":offV8Polo2,"DEBUG: v8 Polo 3 is no longer used!":offV8Polo3,"DEBUG: v8 Polo 4 is no longer used!":offV8Polo4,"DEBUG: v8 Polo 5 is no longer used!":offV8Polo5,"DEBUG: v8 Polo 6 is no longer used!":offV8Polo6,"DEBUG: v8 Polo 7 is no longer used!":offV8Polo7,"DEBUG: v8 Polo 8 is no longer used!":offV8Polo8,"DEBUG: v8 Polo 9 is no longer used!":offV8Polo9,"DEBUG: v8 Polo 10 is no longer used!":offV8Polo10,"DEBUG: v8 Polo 11 is no longer used!":offV8Polo11,"DEBUG: v8 Polo 12 is no longer used!":offV8Polo12,"DEBUG: v8 Polo 13 is no longer used!":offV8Polo13,"DEBUG: v8 Polo 14 is no longer used!":offV8Polo14,"DEBUG: v8 Polo 15 is no longer used!":offV8Polo15,"DEBUG: v8 Polo 16 is no longer used!":offV8Polo16,"DEBUG: v8 Polo 17 is no longer used!":offV8Polo17,"DEBUG: v8 Polo 18 is no longer used!":offV8Polo18,"DEBUG: v8 Polo 19 is no longer used!":offV8Polo19,"DEBUG: v8 Polo 20 is no longer used!":offV8Polo20,"DEBUG: v8 Polo 21 is no longer used!":offV8Polo21,"DEBUG: v8 Polo 22 is no longer used!":offV8Polo22,"DEBUG: v8 Polo 23 is no longer used!":offV8Polo23,"DEBUG: v9 Polo 0 is no longer used!":offV9Polo0,"DEBUG: v9 Polo 1 is no longer used!":offV9Polo1,"DEBUG: v9 Polo 2 is no longer used!":offV9Polo2,"DEBUG: v9 Polo 3 is no longer used!":offV9Polo3,"DEBUG: v9 Polo 4 is no longer used!":offV9Polo4,"DEBUG: v9 Polo 5 is no longer used!":offV9Polo5,"DEBUG: v9 Polo 6 is no longer used!":offV9Polo6,"DEBUG: v9 Polo 7 is no longer used!":offV9Polo7,"DEBUG: v9 Polo 8 is no longer used!":offV9Polo8,"DEBUG: v9 Polo 9 is no longer used!":offV9Polo9,"DEBUG: v9 Polo 10 is no longer used!":offV9Polo10,"DEBUG: v9 Polo 11 is no longer used!":offV9Polo11,"DEBUG: v9 Polo 12 is no longer used!":offV9Polo12,"DEBUG: v9 Polo 13 is no longer used!":offV9Polo13,"DEBUG: v9 Polo 14 is no longer used!":offV9Polo14,"DEBUG: v9 Polo 15 is no longer used!":offV9Polo15,"DEBUG: v9 Polo 16 is no longer used!":offV9Polo16,"DEBUG: v9 Polo 17 is no longer used!":offV9Polo17,"DEBUG: v9 Polo 18 is no longer used!":offV9Polo18,"DEBUG: v9 Polo 19 is no longer used!":offV9Polo19,"DEBUG: v9 Polo 20 is no longer used!":offV9Polo20,"DEBUG: v9 Polo 21 is no longer used!":offV9Polo21,"DEBUG: v9 Polo 22 is no longer used!":offV9Polo22,"DEBUG: v9 Polo 23 is no longer used!":offV9Polo23,"DEBUG: v1 Mix started!":onV1Mix,"DEBUG: v2 Mix started!":onV2Mix,"DEBUG: v3 Mix started!":onV3Mix,"DEBUG: v4 Mix started!":onV4Mix,"DEBUG: v5 Mix started!":onV5Mix,"DEBUG: v6 Mix started!":onV6Mix,"DEBUG: v7 Mix started!":onV7Mix,"DEBUG: v8 Mix started!":onV8Mix,"DEBUG: v9 Mix started!":onV9Mix,"DEBUG: v1 Mix Stopped!":offV1Mix,"DEBUG: v2 Mix Stopped!":offV2Mix,"DEBUG: v3 Mix Stopped!":offV3Mix,"DEBUG: v4 Mix Stopped!":offV4Mix,"DEBUG: v5 Mix Stopped!":offV5Mix,"DEBUG: v6 Mix Stopped!":offV6Mix,"DEBUG: v7 Mix Stopped!":offV7Mix,"DEBUG: v8 Mix Stopped!":offV8Mix,"DEBUG: v9 Mix Stopped!":offV9Mix};function onV1Mix(){}function onV2Mix(){}function onV3Mix(){}function onV4Mix(){}function onV5Mix(){}function onV6Mix(){}function onV7Mix(){}function onV8Mix(){}function onV9Mix(){}function offV1Mix(){}function offV2Mix(){}function offV3Mix(){}function offV4Mix(){}function offV5Mix(){}function offV6Mix(){}function offV7Mix(){}function offV8Mix(){}function offV9Mix(){}function offV1Polo0(){}function offV1Polo1(){}function offV1Polo2(){}function offV1Polo3(){}function offV1Polo4(){}function offV1Polo5(){}function offV1Polo6(){}function offV1Polo7(){}function offV1Polo8(){}function offV1Polo9(){}function offV1Polo10(){}function offV1Polo11(){}function offV1Polo12(){}function offV1Polo13(){}function offV1Polo14(){}function offV1Polo15(){}function offV1Polo16(){}function offV1Polo17(){}function offV1Polo18(){}function offV1Polo19(){}function offV1Polo20(){}function offV1Polo21(){}function offV1Polo22(){}function offV1Polo23(){}function offV2Polo0(){}function offV2Polo1(){}function offV2Polo2(){}function offV2Polo3(){}function offV2Polo4(){}function offV2Polo5(){}function offV2Polo6(){}function offV2Polo7(){}function offV2Polo8(){}function offV2Polo9(){}function offV2Polo10(){}function offV2Polo11(){}function offV2Polo12(){}function offV2Polo13(){}function offV2Polo14(){}function offV2Polo15(){}function offV2Polo16(){}function offV2Polo17(){}function offV2Polo18(){}function offV2Polo19(){}function offV2Polo20(){}function offV2Polo21(){}function offV2Polo22(){}function offV2Polo23(){}function offV3Polo0(){}function offV3Polo1(){}function offV3Polo2(){}function offV3Polo3(){}function offV3Polo4(){}function offV3Polo5(){}function offV3Polo6(){}function offV3Polo7(){}function offV3Polo8(){}function offV3Polo9(){}function offV3Polo10(){}function offV3Polo11(){}function offV3Polo12(){}function offV3Polo13(){}function offV3Polo14(){}function offV3Polo15(){}function offV3Polo16(){}function offV3Polo17(){}function offV3Polo18(){}function offV3Polo19(){}function offV3Polo20(){}function offV3Polo21(){}function offV3Polo22(){}function offV3Polo23(){}function offV4Polo0(){}function offV4Polo1(){}function offV4Polo2(){}function offV4Polo3(){}function offV4Polo4(){}function offV4Polo5(){}function offV4Polo6(){}function offV4Polo7(){}function offV4Polo8(){}function offV4Polo9(){}function offV4Polo10(){}function offV4Polo11(){}function offV4Polo12(){}function offV4Polo13(){}function offV4Polo14(){}function offV4Polo15(){}function offV4Polo16(){}function offV4Polo17(){}function offV4Polo18(){}function offV4Polo19(){}function offV4Polo20(){}function offV4Polo21(){}function offV4Polo22(){}function offV4Polo23(){}function offV5Polo0(){}function offV5Polo1(){}function offV5Polo2(){}function offV5Polo3(){}function offV5Polo4(){}function offV5Polo5(){}function offV5Polo6(){}function offV5Polo7(){}function offV5Polo8(){}function offV5Polo9(){}function offV5Polo10(){}function offV5Polo11(){}function offV5Polo12(){}function offV5Polo13(){}function offV5Polo14(){}function offV5Polo15(){}function offV5Polo16(){}function offV5Polo17(){}function offV5Polo18(){}function offV5Polo19(){}function offV5Polo20(){}function offV5Polo21(){}function offV5Polo22(){}function offV5Polo23(){}function offV6Polo0(){}function offV6Polo1(){}function offV6Polo2(){}function offV6Polo3(){}function offV6Polo4(){}function offV6Polo5(){}function offV6Polo6(){}function offV6Polo7(){}function offV6Polo8(){}function offV6Polo9(){}function offV6Polo10(){}function offV6Polo11(){}function offV6Polo12(){}function offV6Polo13(){}function offV6Polo14(){}function offV6Polo15(){}function offV6Polo16(){}function offV6Polo17(){}function offV6Polo18(){}function offV6Polo19(){}function offV6Polo20(){}function offV6Polo21(){}function offV6Polo22(){}function offV6Polo23(){}function offV7Polo0(){}function offV7Polo1(){}function offV7Polo2(){}function offV7Polo3(){}function offV7Polo4(){}function offV7Polo5(){}function offV7Polo6(){}function offV7Polo7(){}function offV7Polo8(){}function offV7Polo9(){}function offV7Polo10(){}function offV7Polo11(){}function offV7Polo12(){}function offV7Polo13(){}function offV7Polo14(){}function offV7Polo15(){}function offV7Polo16(){}function offV7Polo17(){}function offV7Polo18(){}function offV7Polo19(){}function offV7Polo20(){}function offV7Polo21(){}function offV7Polo22(){}function offV7Polo23(){}function offV8Polo0(){}function offV8Polo1(){}function offV8Polo2(){}function offV8Polo3(){}function offV8Polo4(){}function offV8Polo5(){}function offV8Polo6(){}function offV8Polo7(){}function offV8Polo8(){}function offV8Polo9(){}function offV8Polo10(){}function offV8Polo11(){}function offV8Polo12(){}function offV8Polo13(){}function offV8Polo14(){}function offV8Polo15(){}function offV8Polo16(){}function offV8Polo17(){}function offV8Polo18(){}function offV8Polo19(){}function offV8Polo20(){}function offV8Polo21(){}function offV8Polo22(){}function offV8Polo23(){}function offV9Polo0(){}function offV9Polo1(){}function offV9Polo2(){}function offV9Polo3(){}function offV9Polo4(){}function offV9Polo5(){}function offV9Polo6(){}function offV9Polo7(){}function offV9Polo8(){}function offV9Polo9(){}function offV9Polo10(){}function offV9Polo11(){}function offV9Polo12(){}function offV9Polo13(){}function offV9Polo14(){}function offV9Polo15(){}function offV9Polo16(){}function offV9Polo17(){}function offV9Polo18(){}function offV9Polo19(){}function offV9Polo20(){}function offV9Polo21(){}function offV9Polo22(){}function offV9Polo23(){}function onLockedIcon1(){}function onLockedIcon2(){}function onLockedIcon3(){}function onLockedIcon4(){}function onLockedIcon5(){}function onLockedIcon6(){}function onLockedIcon7(){}function onLockedIcon8(){}function onLockedIcon9(){}function onLockedIcon10(){}function onLockedIcon11(){}function onLockedIcon12(){}function onLockedIcon13(){}function onLockedIcon14(){}function onLockedIcon15(){}function onLockedIcon16(){}function onLockedIcon17(){}function onLockedIcon18(){}function onLockedIcon19(){}function onLockedIcon20(){}function onLockedIcon(){}function onV1Bonus1Started(){}function onV1Bonus2Started(){}function onV1Bonus3Started(){}function onV2Bonus1Started(){}function onV2Bonus2Started(){}function onV2Bonus3Started(){}function onV3Bonus1Started(){}function onV3Bonus2Started(){}function onV3Bonus3Started(){}function onV4Bonus1Started(){}function onV4Bonus2Started(){}function onV4Bonus3Started(){}function onV5Bonus1Started(){}function onV5Bonus2Started(){}function onV5Bonus3Started(){}function onV6Bonus1Started(){}function onV6Bonus2Started(){}function onV6Bonus3Started(){}function onV7Bonus1Started(){}function onV7Bonus2Started(){}function onV7Bonus3Started(){}function onV8Bonus1Started(){}function onV8Bonus2Started(){}function onV8Bonus3Started(){}function onV9Bonus1Started(){}function onV9Bonus2Started(){}function onV9Bonus3Started(){}function onV1Start(){}function onV2Start(){}function onV3Start(){}function onV4Start(){}function onV5Start(){}function onV6Start(){}function onV7Start(){}function onV8Start(){}function onV9Start(){}function onV1Bonus1Finished(){}function onV1Bonus2Finished(){}function onV1Bonus3Finished(){}function onV2Bonus1Finished(){}function onV2Bonus2Finished(){}function onV2Bonus3Finished(){}function onV3Bonus1Finished(){}function onV3Bonus2Finished(){}function onV3Bonus3Finished(){}function onV4Bonus1Finished(){}function onV4Bonus2Finished(){}function onV4Bonus3Finished(){}function onV5Bonus1Finished(){}function onV5Bonus2Finished(){}function onV5Bonus3Finished(){}function onV6Bonus1Finished(){}function onV6Bonus2Finished(){}function onV6Bonus3Finished(){}function onV7Bonus1Finished(){}function onV7Bonus2Finished(){}function onV7Bonus3Finished(){}function onV8Bonus1Finished(){}function onV8Bonus2Finished(){}function onV8Bonus3Finished(){}function onV9Bonus1Finished(){}function onV9Bonus2Finished(){}function onV9Bonus3Finished(){}function onV1Polo0(){}function onV1Polo1(){}function onV1Polo2(){}function onV1Polo3(){}function onV1Polo4(){}function onV1Polo5(){}function onV1Polo6(){}function onV1Polo7(){}function onV1Polo8(){}function onV1Polo9(){}function onV1Polo10(){}function onV1Polo11(){}function onV1Polo12(){}function onV1Polo13(){}function onV1Polo14(){}function onV1Polo15(){}function onV1Polo16(){}function onV1Polo17(){}function onV1Polo18(){}function onV1Polo19(){}function onV1Polo20(){}function onV1Polo21(){}function onV1Polo22(){}function onV1Polo23(){}function onV2Polo0(){}function onV2Polo1(){}function onV2Polo2(){}function onV2Polo3(){}function onV2Polo4(){}function onV2Polo5(){}function onV2Polo6(){}function onV2Polo7(){}function onV2Polo8(){}function onV2Polo9(){}function onV2Polo10(){}function onV2Polo11(){}function onV2Polo12(){}function onV2Polo13(){}function onV2Polo14(){}function onV2Polo15(){}function onV2Polo16(){}function onV2Polo17(){}function onV2Polo18(){}function onV2Polo19(){}function onV2Polo20(){}function onV2Polo21(){}function onV2Polo22(){}function onV2Polo23(){}function onV3Polo0(){}function onV3Polo1(){}function onV3Polo2(){}function onV3Polo3(){}function onV3Polo4(){}function onV3Polo5(){}function onV3Polo6(){}function onV3Polo7(){}function onV3Polo8(){}function onV3Polo9(){}function onV3Polo10(){}function onV3Polo11(){}function onV3Polo12(){}function onV3Polo13(){}function onV3Polo14(){}function onV3Polo15(){}function onV3Polo16(){}function onV3Polo17(){}function onV3Polo18(){}function onV3Polo19(){}function onV3Polo20(){}function onV3Polo21(){}function onV3Polo22(){}function onV3Polo23(){}function onV4Polo0(){}function onV4Polo1(){}function onV4Polo2(){}function onV4Polo3(){}function onV4Polo4(){}function onV4Polo5(){}function onV4Polo6(){}function onV4Polo7(){}function onV4Polo8(){}function onV4Polo9(){}function onV4Polo10(){}function onV4Polo11(){}function onV4Polo12(){}function onV4Polo13(){}function onV4Polo14(){}function onV4Polo15(){}function onV4Polo16(){}function onV4Polo17(){}function onV4Polo18(){}function onV4Polo19(){}function onV4Polo20(){}function onV4Polo21(){}function onV4Polo22(){}function onV4Polo23(){}function onV5Polo0(){}function onV5Polo1(){}function onV5Polo2(){}function onV5Polo3(){}function onV5Polo4(){}function onV5Polo5(){}function onV5Polo6(){}function onV5Polo7(){}function onV5Polo8(){}function onV5Polo9(){}function onV5Polo10(){}function onV5Polo11(){}function onV5Polo12(){}function onV5Polo13(){}function onV5Polo14(){}function onV5Polo15(){}function onV5Polo16(){}function onV5Polo17(){}function onV5Polo18(){}function onV5Polo19(){}function onV5Polo20(){}function onV5Polo21(){}function onV5Polo22(){}function onV5Polo23(){}function onV6Polo0(){}function onV6Polo1(){}function onV6Polo2(){}function onV6Polo3(){}function onV6Polo4(){}function onV6Polo5(){}function onV6Polo6(){}function onV6Polo7(){}function onV6Polo8(){}function onV6Polo9(){}function onV6Polo10(){}function onV6Polo11(){}function onV6Polo12(){}function onV6Polo13(){}function onV6Polo14(){}function onV6Polo15(){}function onV6Polo16(){}function onV6Polo17(){}function onV6Polo18(){}function onV6Polo19(){}function onV6Polo20(){}function onV6Polo21(){}function onV6Polo22(){}function onV6Polo23(){}function onV7Polo0(){}function onV7Polo1(){}function onV7Polo2(){}function onV7Polo3(){}function onV7Polo4(){}function onV7Polo5(){}function onV7Polo6(){}function onV7Polo7(){}function onV7Polo8(){}function onV7Polo9(){}function onV7Polo10(){}function onV7Polo11(){}function onV7Polo12(){}function onV7Polo13(){}function onV7Polo14(){}function onV7Polo15(){}function onV7Polo16(){}function onV7Polo17(){}function onV7Polo18(){}function onV7Polo19(){}function onV7Polo20(){}function onV7Polo21(){}function onV7Polo22(){}function onV7Polo23(){}function onV8Polo0(){}function onV8Polo1(){}function onV8Polo2(){}function onV8Polo3(){}function onV8Polo4(){}function onV8Polo5(){}function onV8Polo6(){}function onV8Polo7(){}function onV8Polo8(){}function onV8Polo9(){}function onV8Polo10(){}function onV8Polo11(){}function onV8Polo12(){}function onV8Polo13(){}function onV8Polo14(){}function onV8Polo15(){}function onV8Polo16(){}function onV8Polo17(){}function onV8Polo18(){}function onV8Polo19(){}function onV8Polo20(){}function onV8Polo21(){}function onV8Polo22(){}function onV8Polo23(){}function onV9Polo0(){}function onV9Polo1(){}function onV9Polo2(){}function onV9Polo3(){}function onV9Polo4(){}function onV9Polo5(){}function onV9Polo6(){}function onV9Polo7(){}function onV9Polo8(){}function onV9Polo9(){}function onV9Polo10(){}function onV9Polo11(){}function onV9Polo12(){}function onV9Polo13(){}function onV9Polo14(){}function onV9Polo15(){}function onV9Polo16(){}function onV9Polo17(){}function onV9Polo18(){}function onV9Polo19(){}function onV9Polo20(){}function onV9Polo21(){}function onV9Polo22(){}function onV9Polo23(){}let btClockWasEnabled=!1;function checkBtClockEnabled(){const o=document.getElementById("bt-clock");if(o&&o.classList.contains("enable")){if(!btClockWasEnabled){btClockWasEnabled=!0;const o=`DEBUG: v${getVersionFromURL()} Mix started!`;showNotification(o,"clock")}}else btClockWasEnabled=!1}let wasBtClockEnabled=!1;function checkBtClockDisabled(){const o=document.getElementById("bt-clock");if(o){const n=o.classList.contains("enable");if(wasBtClockEnabled&&!n){const o=`DEBUG: v${getVersionFromURL()} Mix Stopped!`;showNotification(o,"clock")}wasBtClockEnabled=n}}setInterval((()=>{checkBtClockEnabled(),checkBtClockDisabled()}));let bpmCallback=null,bpmValue=0,lastBeatTime=0,animFrameId=null,isPaused=!1,timeOffset=0;function bpmLoop(o){if(!bpmCallback||isPaused)return void(animFrameId=requestAnimationFrame(bpmLoop));const n=60/bpmValue*1e3,e=o-timeOffset;e-lastBeatTime>=n&&(lastBeatTime+=n,e-lastBeatTime>=n&&(lastBeatTime=e),bpmCallback()),animFrameId=requestAnimationFrame(bpmLoop)}function onBPM(o,n){offBPM(),bpmValue=o,bpmCallback=n,lastBeatTime=performance.now(),isPaused=!1,timeOffset=0,animFrameId=requestAnimationFrame(bpmLoop)}function offBPM(){animFrameId&&(cancelAnimationFrame(animFrameId),animFrameId=null),bpmCallback=null,bpmValue=0,lastBeatTime=0,isPaused=!1,timeOffset=0}function pauseBPM(){isPaused||(isPaused=!0,pauseStartTime=performance.now())}function resumeBPM(){if(isPaused){const o=performance.now()-pauseStartTime;timeOffset+=o,isPaused=!1}}function checkForGriser(o){if(o&&o.classList.contains("griser")){const n=o.getAttribute("data-picto-num"),e=`DEBUG: v${getVersionFromURL()} Polo ${n} is being used!`;showNotification(e,"polo"),totalPolosUsed++,localStorage.setItem("totalPolosUsed",totalPolosUsed)}}function checkForFlashme(o){if(o&&o.classList.contains("flashme")){const n=o.getAttribute("data-picto-num"),e=`DEBUG: v${getVersionFromURL()} Polo ${n} is no longer used!`;showNotification(e,"polo")}}function debounce(o,n){let e;return function(...t){clearTimeout(e),e=setTimeout((()=>o.apply(this,t)),n)}}const pictoObserver=new MutationObserver(debounce((o=>{o.forEach((o=>{if("attributes"===o.type&&"class"===o.attributeName){const n=o.target;checkForGriser(n),checkForFlashme(n)}}))}),100));function startObservingPicto(){document.querySelectorAll(".picto").forEach((o=>{pictoObserver.observe(o,{attributes:!0})}))}startObservingPicto();const audioCache={expire:{},aspire:{},sound:{}};function initAudioContext(){if(!audioContext)try{window.AudioContext=window.AudioContext||window.webkitAudioContext,audioContext=new AudioContext,console.log("AudioContext initialized")}catch(o){console.error("Failed to create AudioContext:",o)}return audioContext}function setupAudioContextInitialization(){const o=()=>{initAudioContext(),["click","touchstart","keydown"].forEach((n=>document.removeEventListener(n,o)))};["click","touchstart","keydown"].forEach((n=>document.addEventListener(n,o,{once:!0})))}function preloadBonusSounds(){console.log("Preloading bonus sounds..."),app.bonusarray&&Array.isArray(app.bonusarray)?(window.preloadedSounds=[],app.bonusarray.forEach(((o,n)=>{o&&(o.expire&&preloadSound("expire",o.expire,n),o.aspire&&preloadSound("aspire",o.aspire,n),o.sound&&preloadSound("sound",o.sound,n))}))):console.error("Bonus array not available for preloading")}function preloadSound(o,n,e){if(audioCache[o][n]&&audioCache[o][n].buffer)return void console.log(`Sound already cached: ${o} - ${n}`);const t=`${app.folder}/sound/ogg/${n}.ogg`,i=`${app.folder}/sound/mp3/${n}.mp3`,s=`${app.folder}/sound/wav/${n}.wav`;audioCache[o][n]={buffer:null,paths:{ogg:t,mp3:i,wav:s},loaded:!1,bonusIndex:e,loadFailed:!1},window.preloadedSounds.push({type:o,name:n,index:e,paths:audioCache[o][n].paths}),loadSoundFile(t).then((e=>audioContext?audioContext.decodeAudioData(e):(audioCache[o][n].rawData=e,Promise.resolve(null)))).then((e=>{e&&(audioCache[o][n].buffer=e),audioCache[o][n].loaded=!0,audioCache[o][n].format="ogg",console.log(`Successfully preloaded ${o} sound: ${n} (OGG)`)})).catch((e=>(console.warn(`Failed to load OGG format for ${n}, trying MP3...`,e),loadSoundFile(i).then((e=>audioContext?audioContext.decodeAudioData(e):(audioCache[o][n].rawData=e,Promise.resolve(null)))).then((e=>{e&&(audioCache[o][n].buffer=e),audioCache[o][n].loaded=!0,audioCache[o][n].format="mp3",console.log(`Successfully preloaded ${o} sound: ${n} (MP3)`)})).catch((e=>(console.warn(`Failed to load MP3 format for ${n}, trying WAV...`,e),loadSoundFile(s).then((e=>audioContext?audioContext.decodeAudioData(e):(audioCache[o][n].rawData=e,Promise.resolve(null)))).then((e=>{e&&(audioCache[o][n].buffer=e),audioCache[o][n].loaded=!0,audioCache[o][n].format="wav",console.log(`Successfully preloaded ${o} sound: ${n} (WAV)`)})).catch((e=>{isMobile||(audioCache[o][n].loadFailed=!0)}))))))))}function loadSoundFile(o){return new Promise(((n,e)=>{const t=new XMLHttpRequest;t.open("GET",o,!0),t.responseType="arraybuffer",t.onload=function(){200===t.status?n(t.response):e(new Error(`Status: ${t.status} for ${o}`))},t.onerror=function(){e(new Error(`Network error loading ${o}`))},t.send()}))}function playBonusSound(o,n,e=null){if(console.log(`Attempting to play ${o} sound: ${n}`),!audioContext)try{initAudioContext()}catch(o){console.error("Failed to initialize AudioContext:",o)}"suspended"===audioContext?.state&&audioContext.resume().catch((o=>console.warn("Couldn't resume AudioContext:",o)));let t,i=audioCache[o][n];if(!i&&null!==e&&app.bonusarray[e]){const t=app.bonusarray[e];t[o]&&(n=t[o],i=audioCache[o][n])}if(!i)return console.log(`Sound not preloaded, loading on demand: ${o} - ${n}`),preloadSound(o,n,e),i=audioCache[o][n],new Promise(((t,s)=>{const l=setInterval((()=>{i.loaded?(clearInterval(l),playBonusSound(o,n,e).then(t).catch(s)):i.loadFailed&&(clearInterval(l),s(new Error(`Failed to load sound: ${n}`)))}),100);setTimeout((()=>{clearInterval(l),s(new Error(`Timeout waiting for sound to load: ${n}`))}),5e3)}));if(isOnPC&&(!i||i.loadFailed))return boxDialog.open(`Expire "${n}.ogg" failed to play - the sound file is not loaded which means that the location of this file is incorrect or file just dont exist`,"😓"),Promise.reject(new Error(`Sound not available: ${n}`));if(audioContext&&i.buffer)try{const e=audioContext.createBufferSource();return e.buffer=i.buffer,e.connect(audioContext.destination),e.start(0),console.log(`Playing ${o} sound ${n} using AudioContext`),Promise.resolve(e)}catch(o){console.warn(`AudioContext playback failed: ${o.message}, falling back to Audio element`)}else if(i.rawData&&audioContext)return audioContext.decodeAudioData(i.rawData.slice(0)).then((e=>{i.buffer=e;const t=audioContext.createBufferSource();return t.buffer=e,t.connect(audioContext.destination),t.start(0),console.log(`Playing ${o} sound ${n} using AudioContext (just-decoded)`),t})).catch((e=>{throw isOnPC&&boxDialog.open(`Problem playing ${o} sound ${n}. Error: ${e.message}`,"&#128532;"),e}));t=i.format?i.paths[i.format]:i.paths.ogg;const s=new Audio(t);return s.play().then((()=>(console.log(`Successfully playing ${o} sound ${n} using Audio element`),s))).catch((e=>{if(console.warn(`Playback failed for ${n} using Audio element:`,e),"NotAllowedError"===e.name){console.log("Autoplay blocked. Will retry on next user interaction.");const o=()=>{s.play().catch((o=>console.error(`Still failed to play after interaction: ${n}`,o))),["click","touchstart","keydown"].forEach((n=>document.removeEventListener(n,o)))};return["click","touchstart","keydown"].forEach((n=>document.addEventListener(n,o,{once:!0}))),Promise.reject(new Error("Waiting for user interaction"))}return isMobile||boxDialog.open(`Problem playing ${o} sound ${n}. Error: ${e.message}`,"&#128532;"),Promise.reject(e)}))}function handleBonusClassChanges(o){const n=o.classList.contains("inprogress")&&o.classList.contains("found"),e=o.classList.contains("playing");if(n&&e){const n=o.id.split("-")[2],e=parseInt(n)-1,t=getVersionFromURL();showNotification(`DEBUG: v${t} Bonus ${n} is playing!`,"bonus");const i=new MutationObserver((()=>{if(!o.classList.contains("playing")){showNotification(`DEBUG: v${t} Bonus ${n} has finished playing!`,"bonus-finished");const o=app.bonusarray[e],s=o?.expire;s?(console.log(`Preparing to play expire sound for bonus ${n}:`,{bonusIndex:e,soundName:s,soundData:audioCache.expire[s]}),playBonusSound("expire",s,e).then((()=>console.log(`Successfully played expire sound for bonus ${n}`))).catch((o=>console.error(`Failed to play expire sound: ${o.message}`)))):console.warn(`No expire sound defined for bonus ${n}`),totalBonusesWatched++,localStorage.setItem("totalBonusesWatched",totalBonusesWatched),i.disconnect()}}));i.observe(o,{attributes:!0,attributeFilter:["class"]})}}function initBonusSoundSystem(){setupAudioContextInitialization(),preloadBonusSounds(),window.debugAudioCache=audioCache,window.playBonusSound=playBonusSound,console.log("Bonus sound system initialized")}"complete"!==document.readyState&&"interactive"!==document.readyState||(console.log("Document already loaded - initializing bonus sound system"),initBonusSoundSystem());const bonusObserver=new MutationObserver((o=>{o.forEach((o=>{if("attributes"===o.type&&"class"===o.attributeName){handleBonusClassChanges(o.target)}}))})),bonusElements=document.querySelectorAll(".bt-bonus");function startObservingPicto(){document.querySelectorAll(".picto").forEach((o=>{pictoObserver.observe(o,{attributes:!0,attributeFilter:["class"]})}))}function startObservingBonus(){document.querySelectorAll('[id^="bt-bonus"]').forEach((o=>{bonusObserver.observe(o,{attributes:!0,attributeFilter:["class"]})}))}bonusElements.forEach((o=>{bonusObserver.observe(o,{attributes:!0,attributeFilter:["class"]})})),startObservingPicto(),startObservingBonus();const dynamicObserver=new MutationObserver((()=>{startObservingPicto(),startObservingBonus()}));function checkForPictoClassChange(o){if(o){const n=o.classList.contains("griser");if(o.classList.contains("picto")&&!n){const n=o.getAttribute("data-picto-num");showNotification(`DEBUG: v${getVersionFromURL()} Polo ${n} is not unused!`,"polo")}}}dynamicObserver.observe(document.body,{childList:!0,subtree:!0});const pictoClassObserver=new MutationObserver((o=>{o.forEach((o=>{if("attributes"===o.type&&"class"===o.attributeName){checkForPictoClassChange(o.target)}}))}));function startObservingPictoClassChanges(){document.querySelectorAll(".picto").forEach((o=>{pictoClassObserver.observe(o,{attributes:!0,attributeFilter:["class"]})}))}function RemoveElement(o){const n=document.getElementById(o);n&&n.remove()}function CreateElement(o,n="div",e=""){if(document.getElementById(o))return;const t=document.createElement(n);t.id=o,t.innerHTML=e,document.body.appendChild(t)}function applyStoredColors(){let o=JSON.parse(localStorage.getItem("iconColors"));if(o)for(let n in o){let e=o[n];document.documentElement.style.setProperty(`--${n}`,e)}}function ChangeColorBG(o,n,e){if(BGorFadeOutsOn){const t=document.createElement("div");t.classList.add("fade-bg"),t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.backgroundColor=o,t.style.zIndex="-9999",t.style.transition=`opacity ${n}ms ease-out`,t.style.opacity="1",document.body.appendChild(t),e||(setTimeout((()=>{t.style.opacity="0"}),10),setTimeout((()=>{t.remove()}),n))}}showNotification(`DEBUG: v${getVersionFromURL()} just started!`),startObservingPictoClassChanges(),totalVersionsOppened++,localStorage.setItem("totalVersionsOppened",totalVersionsOppened),fetch("versions.xml").then((o=>o.text())).then((o=>{let n=(new DOMParser).parseFromString(o,"text/xml").getElementsByTagName("line"),e=document.getElementById("sp-select"),t="";for(let o=0;o<n.length;o++){let i=document.createElement("div");i.classList.add("sp-line"),e.appendChild(i);let s=n[o].getElementsByTagName("icon");for(let o=0;o<s.length;o++){let n=s[o].getAttribute("ID"),e=s[o].getAttribute("color"),l=s[o].getAttribute("name"),c=s[o].getAttribute("customIcon"),a=s[o].getAttribute("locked"),r=s[o].getAttribute("ignored"),u="true"===s[o].getAttribute("customName"),d="true"===s[o].getAttribute("hidden"),f=document.createElement("div");f.classList.add("vicon"),f.id="icon"+n,f.dataset.name=l,f.dataset.color=e,f.dataset.locked=a;let P=document.createElement("div");if(c?(P=document.createElement("img"),P.id="customicon",P.src=c,P.alt=l):P.classList.add("img"),f.appendChild(P),f.innerHTML+=u?`<div id="customIconName" style="color: ${e};">${l}</div>`:'<div class="txt"></div>',r&&f.classList.add("ignored"),"true"!==a)f.innerHTML+='\n            <div class="bul">\n              <svg class="icn-svg"><use xlink:href="#ic-check"></use></svg>\n            </div>\n          ',i.appendChild(f);else{f.classList.add("locked"),f.innerHTML+='\n            <div class="bul">\n              <svg class="icn-svg"><use xlink:href="#ic-lock"></use></svg>\n            </div>\n          ';let o=document.createElement("div");o.classList.add("locked-vicon"),o.appendChild(f),i.appendChild(o),o.addEventListener("click",(o=>{o.preventDefault(),showNotification("Trying to open locked icon "+n),showNotification("Trying to open locked icon","locked"),document.querySelectorAll('.vicon[data-locked="true"]').forEach((o=>{o.classList.remove("open","clicked")}))}))}d&&(f.style.display="none"),t+=`--colV${n}: ${e};\n`;let g=JSON.parse(localStorage.getItem("iconColors"))||{};g[`colV${n}`]=e,localStorage.setItem("iconColors",JSON.stringify(g));let p=document.querySelector(".locked-vicon");f.addEventListener("click",(function(o){p?(o.preventDefault(),showNotification("Trying to open locked icon "+n),showNotification("Trying to open locked icon","locked"),RemoveElement("lock-all"),RemoveElement("fade-all"),document.querySelectorAll('.vicon[data-locked="true"]').forEach((o=>{o.classList.remove("open","clicked")}))):(CreateElement("lock-all","div"),CreateElement("fade-all","div"),OnDelayIn(900,(()=>{window.location.href="app.html?v="+n})))}))}}let i=document.createElement("style");i.innerHTML=`:root {\n${t}}`,document.head.appendChild(i),applyStoredColors()}));const messageQueue=[];function QuickMessage(o,n=2e3){if(LyricsOn){const e=document.createElement("div");e.classList.add("quickmessage"),e.innerHTML=o,e.style.position="fixed",e.style.left="50%",e.style.bottom="50px",e.style.transform="translateX(-50%) translateY(20px)",e.style.zIndex="9999",e.style.opacity="0",e.style.transition="opacity 0.3s ease, transform 0.3s ease, bottom 0.3s ease",document.body.appendChild(e),messageQueue.unshift(e),updateMessagePositions(),setTimeout((()=>{e.style.opacity="1",e.style.transform="translateX(-50%) translateY(0px)"}),10),setTimeout((()=>{e.style.opacity="0",e.style.transform="translateX(-50%) translateY(20px)",setTimeout((()=>{e.remove(),messageQueue.pop(),updateMessagePositions()}),300)}),n)}}function updateMessagePositions(){let o=50;for(let n=messageQueue.length-1;n>=0;n--){const e=messageQueue[n],t=e.offsetHeight+10;e.style.bottom=`${o}px`,o+=t}}function onKey(o,n){document.addEventListener("keydown",(function(e){e.key===o&&n()}))}function OnlyOnce(o,n){let e=JSON.parse(localStorage.getItem("executedItems"))||{};e[o]||(n(),e[o]=!0,localStorage.setItem("executedItems",JSON.stringify(e)))}function ClearItemID(o){let n=JSON.parse(localStorage.getItem("executedItems"))||{},e=JSON.parse(localStorage.getItem("storage"))||{};n[o]&&(delete n[o],localStorage.setItem("executedItems",JSON.stringify(n))),e[o]&&(delete e[o],localStorage.setItem("storage",JSON.stringify(e)))}function CleanColorBG(){document.querySelectorAll(".fade-bg").forEach((o=>{o.remove()}))}function renameFile(o){return o}function goto(o){window.location.href=`app.html?v=${o}`}function getPoloSpriteImage(){return"polo-sprite.png"}function ReplacePoloSprite(o){getPoloSpriteImage=()=>o}function ReplacePictoID(o,n){const e=document.getElementById(`picto${o}`);e&&(e.setAttribute("data-picto-num",n),e.id=`picto${n}`)}function RemovePicto(o){const n=document.getElementById(`picto${o}`);n&&(n.style.display="none")}function AddPicto(o,n){const e=document.getElementById(`picto${o}`);e&&(e.style.display="block")}function ChangeMenuTitle(o){const n=document.querySelector(".container .title"),e=document.getElementById("sp-choose");n&&(n.textContent=o),e&&(e.textContent=o)}function unLock(o){const n=document.getElementById(`icon${o}`);if(n){n.dataset.locked="false";n.querySelector(".bul")||(n.innerHTML+='\n                <div class="bul">\n                  <svg class="icn-svg"><use xlink:href="#ic-check"></use></svg>\n                </div>\n            ')}}function Call(o){let n=JSON.parse(localStorage.getItem("storage"))||{};n[o]||(n[o]={callbacks:[],active:!1}),n[o].active=!0,n[o].callbacks.forEach((o=>{"function"==typeof o&&o()})),localStorage.setItem("storage",JSON.stringify(n))}function Catch(o,n){let e=JSON.parse(localStorage.getItem("storage"))||{};e[o]||(e[o]={callbacks:[],active:!1}),"function"==typeof n&&(e[o].callbacks.push(n),e[o].active&&n()),localStorage.setItem("storage",JSON.stringify(e))}function OnClick(o,n){const e=document.getElementById(o);e&&"function"==typeof n&&e.addEventListener("click",n)}function OpenModCredits(){boxPopup.open({name:"popup-message",icntype:"action",bodyclose:!0,class:"modCreditsBox",content:"\n            <button class=prev onclick=prevSlide()>❮</button> <button class=next onclick=nextSlide()>❯</button><div class=gallery-container><div class=gallery-slider></div></div>\n        ",onBoxOpenEnd:function(){boxPopup.$popup.find(".icon.bt.bt-round.bt-44").on("click",(function(){boxPopup.close()}))},onBoxCloseStart:function(){boxPopup.$popup.find(".icon.bt.bt-round.bt-44").off()},onCloseComplete:function(){}}),loadCredits()}function loadCredits(){fetch("mod-credits/credits.xml").then((o=>o.text())).then((o=>(new window.DOMParser).parseFromString(o,"text/xml"))).then((o=>{const n=o.querySelectorAll("page"),e=document.querySelector(".gallery-container .gallery-slider");e.innerHTML="",n.forEach((o=>{let n=o.getAttribute("text"),t=o.getAttribute("title");const i=o.getAttribute("image"),s="true"===o.getAttribute("noImage");n=n.replace(/\(\!line\)/g,"[[BR]]"),n=n.replace(/\(\!hr\)/g,"<hr>"),n=n.replace(/\(\!bold\/(.*?)\)/g,"<b>$1</b>"),n=n.replace(/\(\!underline\/(.*?)\)/g,"<u>$1</u>"),n=n.replace(/\(\!italic\/(.*?)\)/g,"<i>$1</i>"),n=n.replace(/\(\!color\/#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})\/(.*?)\)/g,'<span style="color:#$1;">$2</span>'),n=n.replace(/\(\!size\/(\d+px)\/(.*?)\)/g,'<span style="font-size:$1;">$2</span>'),n=n.replace(/\(\!emoji\/(.*?)\)/g,((o,n)=>`<img src="mod-credits/emoji/${n}" class="credit-emoji" />`)),n=n.replace(/\(\!button\/#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})\/(.*?)\/(https?:\/\/[^\s]+)\/(.*?)\)/g,((o,n,e,t,i)=>`<button class="credit-button" style="background-color:#${n};" onclick="confirmNavigation('${t}')">\n                            <div class="center">\n                                    <img src="mod-credits/icons/${e}" class="button-icon"> \n                                    <span class="button-text">${i}</span>\n                                </button>\n                            </div>`)),n=n.replace(/\(\!youtube\/(.*?)\)/g,((o,n)=>{let e="";const t=n.match(/(?:youtube\.com\/(?:.*v=|embed\/|v\/)|youtu\.be\/)([a-zA-Z0-9_-]{11})/);return t&&(e=t[1]),e?`<iframe class="credit-video" src="https://www.youtube.com/embed/${e}" frameborder="0" allowfullscreen></iframe>`:'<span style="color: red;">[Invalid YouTube Link]</span>'})),n=n.replace(/\(!hyperlink\/((?:https?:\/\/)[^\/\s]+(?:\/[^\s#]*)*)\/(?:#([0-9a-fA-F]{3,6})\/)?(.+?)\)/g,((o,n,e,t)=>{const i=Boolean(e);return`<a href="#" class="credit-link"${i?` style="color: #${e}"`:""}${i?' data-hover-opacity="true"':""} onclick="confirmNavigation('${n}')">${t}</a>`})),n=n.replace(/\(\!img\/(.*?)\)/g,'<img src="mod-credits/$1" class="credit-inline-image">'),n=n.replace(/(^|\[\[BR\]\])[ \t]*- /g,"$1• "),n=n.replace(/\[\[BR\]\]/g,"<br>"),n=n.replace(/\(\!gradient\/#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})\/#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})\/(.*?)\)/g,'<span class="gradient-text" style="--start:#$1; --end:#$2;">$3</span>');const l=document.createElement("div");if(l.classList.add("gallery-slide"),!s){const o=document.createElement("img");o.id="credits-images",o.src=i,l.appendChild(o)}const c=document.createElement("div");c.className="title",c.innerHTML=t,l.appendChild(c);const a=document.createElement("div");a.id="text-credits",a.innerHTML=n,l.appendChild(a),e.appendChild(l)}))})).catch((o=>{}))}function confirmNavigation(o){boxDialog.open(`You are about to visit: <b>${o}</b><br>Do you want to continue?`,"You are leaving!",[STR("bt.sure"),STR("bt.cancel")],[()=>{openURL(o)},()=>{boxDialog.close()}])}function moveXof(o,n){const e=document.querySelector(`.${o}`);if(e){const o=getComputedStyle(e).transform,t=new WebKitCSSMatrix(o).m41+n;e.style.transform=`translateX(${t}px)`}}window.onload=function(){loadCredits()};let currentSlideCredits=0;function showSlide(o){const n=document.querySelectorAll(".gallery-slide"),e=document.querySelector(".gallery-slider");currentSlideCredits=o>=n.length?0:o<0?n.length-1:o;const t=100*-currentSlideCredits;e.style.transform=`translateX(${t}%)`}function nextSlide(){showSlide(currentSlideCredits+1)}function prevSlide(){showSlide(currentSlideCredits-1)}function OnClickElement(o,n){const e=document.querySelector(o);e&&"function"==typeof n&&e.addEventListener("click",n)}function updateShakeEffectSwitch(){var o=document.querySelector("#pop-advsetting #param-disableshake .bt-onoff");o&&o.classList.toggle("active",ShakeEffectOn)}function updateLyricsSwitch(){var o=document.querySelector("#pop-advsetting #param-disablelyrics .bt-onoff");o&&o.classList.toggle("active",LyricsOn)}function updateBGchangesEffectSwitch(){var o=document.querySelector("#pop-advsetting #param-bgchanges .bt-onoff");o&&o.classList.toggle("active",BGorFadeOutsOn)}function updateModSoundsEffectSwitch(){const o=document.querySelector("#pop-advsetting #param-displaymodsounds .bt-onoff");o&&o.classList.toggle("active",ModSoundsOn)}function updateParticlesSwitch(){const o=document.querySelector("#pop-advsetting #param-particleseffect .bt-onoff");o&&o.classList.toggle("active",ConfettiEffectOn)}document.addEventListener("DOMContentLoaded",(function(){const o=document.getElementById("home-bt-info"),n=document.getElementById("home-bt-modcredits");new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"class"===e.attributeName&&(o.classList.contains("animate")?n.classList.add("animate"):n.classList.remove("animate"))}))})).observe(o,{attributes:!0})})),OnClickElement(".bt-modcredits",(()=>{OpenModCredits()})),OnClick("ShakeeffectsButton",(()=>{ShakeEffectOn=!ShakeEffectOn,updateShakeEffectSwitch(),localStorage.setItem("ShakeEffectOn",ShakeEffectOn)})),updateShakeEffectSwitch(),OnClick("LyricsDebulgButton",(()=>{LyricsOn=!LyricsOn,updateLyricsSwitch(),localStorage.setItem("LyricsOn",LyricsOn)})),updateLyricsSwitch(),OnClick("bgchangesbutton",(()=>{BGorFadeOutsOn=!BGorFadeOutsOn,updateBGchangesEffectSwitch(),localStorage.setItem("BGorFadeOutsOn",BGorFadeOutsOn)})),updateBGchangesEffectSwitch(),OnClick("displaymodsoundsButton",(()=>{ModSoundsOn=!ModSoundsOn,updateModSoundsEffectSwitch(),localStorage.setItem("ModSoundsOn",ModSoundsOn)})),updateModSoundsEffectSwitch();const secretE="https://upload.wikimedia.org/wikipedia/commons/thumb/f/fb/718smiley.svg/1200px-718smiley.svg.png";function updateCursorsEffectSwitch(){var o=document.querySelector("#pop-advsetting #param-Cursor .bt-onoff");o&&o.classList.toggle("active",CustomCursorsOn)}function resetEverything(){OnDelayIn(300,(()=>{localStorage.clear(),boxDialog.open("All data has been erased!<br>\n             The game will now reset to its first-time launch state.","Info",!1),OnDelayIn(5500,(()=>{location.reload()}))}))}function showAchiNotificationDot(){let o=document.querySelector(".notification__achi");o&&(achiNotificationDot>0?(o.classList.add("show"),o.innerText=achiNotificationDot>=1e6?(achiNotificationDot/1e6).toFixed(1).replace(/\.0$/,"")+"M":achiNotificationDot>=1e3?(achiNotificationDot/1e3).toFixed(1).replace(/\.0$/,"")+"K":achiNotificationDot):(o.classList.remove("show"),o.innerText=""))}function resetAchievements(){const o=`achievements_${RegisterMod}`;OnDelayIn(300,(()=>{localStorage.getItem(o)?(localStorage.removeItem(o),boxDialog.open(`All achievements in <b>${RegisterMod}</b> have been reset.<br>\n                 The game will restart in 2 seconds.`,"Info",!1),OnDelayIn(2500,(()=>{location.reload()}))):boxDialog.open("No achievements found for this mod.","",[STR("bt.gotit")])}))}function getElementPosition(o){const n=document.querySelector(o);if(!n)return{x:.5,y:.5};const e=n.getBoundingClientRect();return{x:(e.left+e.width/2)/window.innerWidth,y:(e.top+e.height/2)/window.innerHeight}}function MakeConfetti(o=2,n=360,e=1,t=200,i=100,s,l){if(ConfettiEffectOn){const c=getElementPosition(`#${s}`);confetti({spread:n,ticks:t,gravity:e,decay:.94,startVelocity:20,particleCount:i,origin:c,scalar:o,shapes:["image"],shapeOptions:{image:[{src:l,width:32,height:32}]}})}}function setCustomCursor(o){if(CustomCursorsOn){let n=document.createElement("style");n.innerHTML="* { cursor: none !important; }",document.head.appendChild(n);let e=document.getElementById("custom-cursor");e||(e=document.createElement("div"),e.id="custom-cursor",e.style.position="fixed",e.style.width="32px",e.style.height="32px",e.style.pointerEvents="none",e.style.zIndex="9999",e.style.transform="translate(-50%, -50%)",document.body.appendChild(e)),e.style.background=`url('${o}') no-repeat center`,e.style.backgroundSize="contain",document.addEventListener("mousemove",(o=>{e.style.left=`${o.clientX}px`,e.style.top=`${o.clientY}px`}))}}function Bloom(o,n=1e3){if(BGorFadeOutsOn){const e=document.createElement("div");e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.zIndex="99999999",e.style.transition=`opacity ${n}ms ease-out`,e.style.opacity="1",e.style.pointerEvents="none";const t=.4*o;e.style.backdropFilter=`blur(${o}px) brightness(${t})`,document.body.appendChild(e),setTimeout((()=>{e.style.opacity="0"}),10),setTimeout((()=>{e.remove()}),n)}}function onLoop(o,n){if("number"!=typeof app.looptime||app.looptime<=0)return;const e=app.looptime*o;o<=0?boxDialog.open("Loop multiplier must be greater than zero."):setInterval(n,e)}function Zoom(o,n,e){const t=document.body;t.style.transition="";const i=o/100;n?(t.style.transition="transform 1s cubic-bezier(0.55, 0.09, 0.68, 0.53)",t.style.transform=`scale(${i})`):e?(t.style.transition="transform 1s cubic-bezier(0.22, 0.61, 0.36, 1)",t.style.transform=`scale(${i})`):t.style.transform=`scale(${i})`}function onKeyHold(o,n,e){let t=!1;document.addEventListener("keydown",(function(n){n.key===o&&(t=!0)})),document.addEventListener("keyup",(function(n){n.key===o&&(t=!1)})),document.addEventListener("keydown",(function(o){t&&o.key===n&&e()}))}OnClick("particleseffectbutton",(()=>{ConfettiEffectOn=!ConfettiEffectOn,updateParticlesSwitch(),localStorage.setItem("ConfettiEffectOn",ConfettiEffectOn),SomeTimes(.1,(()=>{MakeConfetti(2.5,360,0,400,50,"custom-cursor",secretE),OnDelayIn(1e3,(()=>{MakeConfetti(2.5,360,0,400,41,"custom-cursor",secretE)})),OnDelayIn(2e3,(()=>{MakeConfetti(2.5,360,0,400,29,"custom-cursor",secretE)})),OnDelayIn(3300,(()=>{MakeConfetti(2.5,360,0,400,11,"custom-cursor",secretE)}))}))})),updateParticlesSwitch(),OnClick("Cursorbuttoneffect",(()=>{CustomCursorsOn=!CustomCursorsOn,updateCursorsEffectSwitch(),localStorage.setItem("CustomCursorsOn",CustomCursorsOn)})),updateCursorsEffectSwitch(),OnClick("info-bgchanges",(()=>{boxDialog.open("Disables all dynamic background effects.<br><b>Warning:</b> Do not enable this if you have epilepsy!","",[STR("bt.gotit")])})),OnClick("info-shakeEffects",(()=>{boxDialog.open("Disables all screen-shaking effects in the mod.<br>Useful if they are overused or cause discomfort.","",[STR("bt.gotit")])})),OnClick("info-disablelyrics",(()=>{boxDialog.open("Disables the lyrics text that may appear<br>at the bottom of the screen.","",[STR("bt.gotit")])})),OnClick("info-displaymodsounds",(()=>{boxDialog.open("Disables custom sounds added by the mod.<br>Vanilla Incredibox sounds will not be affected.","",[STR("bt.gotit")])})),OnClick("info-particleseffect",(()=>{boxDialog.open("Disables confetti and particle effects.<br>Recommended for low-performance devices.","",[STR("bt.gotit")])})),OnClick("info-Cursor",(()=>{boxDialog.open("Disables the custom cursor that may appear in this mod. (PC only)","",[STR("bt.gotit")])})),OnClick("info-achi-reset",(()=>{boxDialog.open("Resets all achievement progress in this mod.<br><b>This action cannot be undone.</b>","",[STR("bt.gotit")])})),OnClick("action-reset-achi",(()=>{boxDialog.open("Are you sure you want to reset all achievement progress in this mod?<br><b>This action cannot be undone.</b>","",[STR("bt.sure"),STR("bt.cancel")],[()=>{resetAchievements()},()=>{boxDialog.close()}])})),OnClick("info-all-reset",(()=>{boxDialog.open("Resets everything: bonuses, achievements, all your mixes, and progress.<br>\n         <b>This applies to all mods and the official game.</b>","",[STR("bt.gotit")])})),OnClick("action-reset-all",(()=>{boxDialog.open("Are you sure you want to reset everything?<br>\n         This will erase <b>all progress</b> across <b>every mod</b> and the <b>official game</b>, including:<br>\n         • Achievements<br>\n         • Mixes<br>\n         • Bonuses<br>\n         • Other saved data<br>\n         <b>This cannot be undone.</b>","",[STR("bt.sure"),STR("bt.cancel")],[()=>{OnDelayIn(300,(()=>{boxDialog.open("Are you absolutely sure? <br>\n                         <b>This action is can not be undone, and you will lose everything!</b>","Last Warning",[STR("bt.sure"),STR("bt.cancel")],[()=>{resetEverything()},()=>{boxDialog.close()}])}))},()=>{boxDialog.close()}])})),OnClick("tab-myachi",(function(){achiNotificationDot=0,localStorage.setItem("achiNotificationDot",achiNotificationDot),showAchiNotificationDot()})),showAchiNotificationDot(),document.addEventListener("mousemove",(o=>{const n=document.getElementById("custom-cursor");n.style.left=`${o.clientX}px`,n.style.top=`${o.clientY}px`})),onKeyHold("I","!",(function(){QuickMessage(`\n        <span style="color: ${app.col1}">Version data:</span><br><br>\n        <div class="modding-build">\n        Name: ${app.name} v${app.version}<br>\n        Date: ${app.date}<br>\n        Folder: ${app.folder}<br>\n        BPM: ${app.bpm}<br>\n        Looptime: ${app.looptime}<br>\n        Totalframe: ${app.totalframe}</div><br><hr>\n        <span style="color: ${app.col0}">■ </span><span style="color: ${app.col1}">■ </span><span style="color: ${app.col2}">■ </span>\n        <span style="color: ${app.col3}">■ </span><span style="color: ${app.col4}">■ </span>\n        \n    `,8e3)})),onKeyHold("I","@",(function(){QuickMessage(`\n        <span style="color: ${app.col1}">Rem's Modding Build v0.9.4</span><br><hr><br>\n        <div class="modding-build">\n            <span style="text-align: right !important;">Mod Name: ${RegisterMod}</span><br>\n            <span style="text-align: right !important;">Mod Version: v${RegisterModVersion}</span><br>\n            <span style="text-align: right !important;">Developer: ${ModDeveloper}</span><br>\n        </div>\n    `,8e3)})),onKeyHold("I","#",(function(){QuickMessage(`\n        <span style="color: ${app.col1}">ADV. OPTIONS</span><br><hr><br>\n        <div class="modding-build">\n            Background Changes: ${BGorFadeOutsOn?"ON":"OFF"}<br>\n            Shake Effects: ${ShakeEffectOn?"ON":"OFF"}<br>\n            Lyrics: ${LyricsOn?"ON":"OFF"}<br>\n            Mod Sounds: ${ModSoundsOn?"ON":"OFF"}<br>\n            Particles Effects: ${ConfettiEffectOn?"ON":"OFF"}<br>\n            Custom Cursors: ${CustomCursorsOn?"ON":"OFF"}<br>\n        </div>\n    `,8e3)})),onKeyHold("I","$",(function(){let o=app.animearray.map((o=>`\n        <div>\n            <b>${o.name}</b> / \n            <span style="color: #${o.color}">■</span> /\n            2 loops: ${o.uniqsnd?"No":"Yes"}\n        </div>\n    `)).join("");QuickMessage(`\n        <span style="color: ${app.col1}">Character's INFO</span><br><hr><br>\n        <div class="modding-build">\n            ${o}\n        </div>\n    `,1e4)})),onKeyHold("I","%",(function(){let o=(parseInt(localStorage.getItem("totalTimeSpent"))||0)+Math.floor((Date.now()-sessionStartTime)/1e3),n=Math.floor(o/3600),e=Math.floor(o%3600/60),t=o%60,i=`${n.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`;QuickMessage(`\n        <span style="color: ${app.col1}">Your Info!</span><br><hr><br>\n        <div class="modding-build">\n            • ${i} Of playing mods <br>\n            • ${totalBonusesWatched} Bonuses watched <br>\n            • ${totalVersionsOppened} Versions oppened <br>  \n            • ${totalPolosUsed} Polos used <br>            \n        </div>\n    `,8e3)})),onKeyHold("I","^",(function(){window.location.href="js/mod-libs/index.html"})),onKeyHold("I","&",(function(){const o=app.animearray.length,n=680/o;let e=app.bonusarray.map((o=>`\n        <div>\n            <span class="icon-container">\n              <img \n                style="height:40px;border-radius:3px;vertical-align: -13px;"\n                src="${app.folder}video/${o.icon}"\n                onerror="handleMissingIcon(this)"\n              >\n            </span>\n            <b style="text-transform: capitalize;">${o.name}</b> /\n            <span class="code-icons" style="vertical-align: -10px;">\n                ${o.code.split(",").map((o=>{const e=parseInt(o)-1;return`\n                        <span class="sprite-icon" style="\n                            display:inline-block;\n                            width:34px;\n                            height:34px;\n                            background-image:url('${app.folder}img/game-picto@2x.png');\n                            background-size:680px 69px;\n                            background-position:-${e*n}px 0;\n                            background-repeat: no-repeat;\n                            margin-right:3px;\n                            border-radius: 5px;\n                        "></span>\n                      `})).join("")}\n            </span> / Loops: ${o.loop}\n        </div>\n    `)).join("");QuickMessage(`\n        <span style="color: ${app.col1}">BONUS INFO</span><br><hr><br>\n        <div class="modding-build">\n            ${e}\n        </div>\n    `,1e4)})),onKeyHold("I","*",(()=>{openAboutPop()})),onKeyHold("D","!",(function(){toggleDarkMode()})),onKeyHold("D","@",(function(){forceMod.killAllPolos()})),onKeyHold("D","#",(function(){unlockAllBonus()})),onKeyHold("D","$",(function(){location.href="app.html?v=1"}));let fastNavigation=!1,currentKeyPressed="";function updateMixPlayListTab(){const o=document.getElementById("tab-mixlist"),n=document.getElementById("box-mixlist");o.classList.add("active"),n.classList.add("show"),activeFilter("bt-mymix")}function handleMissingIcon(o){const n=o.parentElement;o.remove();const e=document.createElement("div");e.innerHTML=defaultBonusSVG.trim();const t=e.querySelector("svg");t&&(t.style.height="40px",t.style.borderRadius="3px",t.style.verticalAlign="-13px",n.innerHTML="",n.appendChild(t))}onKeyHold("D","%",(function(){fastNavigation=!fastNavigation,QuickMessage("Fast Navigation is "+(fastNavigation?"ON":"OFF"))})),document.addEventListener("keydown",(function(o){if(fastNavigation){"v"===o.key&&document.addEventListener("keydown",(function o(n){"v"!==n.key&&(currentKeyPressed=n.key,location.href=`app.html?v=${currentKeyPressed}`),document.removeEventListener("keydown",o)}),{once:!0})}}));const DB_NAME="ModLibraryDB",DB_VERSION=3;function openDatabase(o){const n=indexedDB.open(DB_NAME,3);n.onupgradeneeded=function(o){let n=o.target.result;n.objectStoreNames.contains("modIcons")||n.createObjectStore("modIcons",{keyPath:"modName"}),n.objectStoreNames.contains("modAchievements")||n.createObjectStore("modAchievements",{keyPath:"modName"})},n.onsuccess=function(n){o(n.target.result)},n.onerror=function(o){}}const RegisterModIcon="js/mod-icon.png",RegisterModBackground="js/mod-background.png",dbRequest=indexedDB.open("ModLibraryDB",2);function registerMod(){let o,n;fetch(RegisterModIcon).then((o=>{if(o.status,!o.ok)throw new Error("Icon file not found!");return o.blob()})).then((n=>{if(n.size,n.type,!(n.size>1536e3))return o=n,fetch(RegisterModBackground);OnDelayIn(500,(function(){boxDialog.open("Icon is too large! Please use an image under 1.5MB.","Icon Upload Failed")}))})).then((o=>{if(o.status,!o.ok)throw new Error("Background file not found!");return o.blob()})).then((e=>{if(e.size,e.type,!(e.size>256e4))return n=e,processImages(o,n);OnDelayIn(500,(function(){boxDialog.open("Background is too large! Please use an image under 2.5MB.","Background Upload Failed")}))})).then((({base64Icon:o,base64Background:n})=>{const e=indexedDB.open("ModLibraryDB",2);e.onerror=function(){},e.onsuccess=function(e){e.target.result.transaction("modIcons","readwrite").objectStore("modIcons").put({name:RegisterMod,version:RegisterModVersion,developer:ModDeveloper,icon:o,background:n,lastPlayed:Date.now()})}})).catch((o=>{boxDialog.open("Failed to load mod assets: "+o.message,"Error")}))}function processImages(o,n){return new Promise(((e,t)=>{let i,s,l=new FileReader,c=new FileReader;l.onload=()=>{i=l.result,s&&e({base64Icon:i,base64Background:s})},c.onload=()=>{s=c.result,i&&e({base64Icon:i,base64Background:s})},l.onerror=c.onerror=()=>t(new Error("Failed to process images")),l.readAsDataURL(o),c.readAsDataURL(n)}))}function updateLastPlayed(o){const n=indexedDB.open("ModLibraryDB",2);n.onsuccess=function(n){let e=n.target.result.transaction("modIcons","readwrite").objectStore("modIcons"),t=e.get(o);t.onsuccess=function(){let o=t.result;o&&(o.lastPlayed=Date.now(),e.put(o))},t.onerror=function(){},e.put(modData)},n.onerror=function(){}}function getLastPlayed(o,n){const e=indexedDB.open("ModLibraryDB",2);e.onsuccess=function(e){let t=e.target.result.transaction("modIcons","readonly").objectStore("modIcons").get(o);t.onsuccess=function(){let o=t.result;if(o&&o.lastPlayed){let e=timeSince(o.lastPlayed);n(e)}else n("Never played")},t.onerror=function(){n("Unknown")}},e.onerror=function(){n("Unknown")}}function loadNewButtonModsNews(){fetch("https://raw.githubusercontent.com/RemmieUwU/Incredimods/refs/heads/main/moreModsDataShare.json").then((o=>o.json())).then((o=>{const n=document.querySelector(".mods-buttons-warper");let e=document.getElementById("bt-dynamicmod");e||(e=document.createElement("div"),e.className="bt bt-light with-icn",e.id="bt-dynamicmod",n?.appendChild(e)),e.innerHTML=`\n        <div class="bck">\n          <svg class="icn-svg">\n            <use xlink:href="${o.icon}"></use>\n          </svg>\n          <div class="txt">${o.name}</div>\n        </div>\n        <a class="hitzone" href="javascript:void(0)"></a>\n      `;const t=e.cloneNode(!0);n?.replaceChild(t,e),t.querySelector(".hitzone").addEventListener("click",(()=>{boxPopup.open({name:"popup-message",icntype:"action",bodyclose:!0,class:"modCreditsBox shadow-box",content:o.innerHTML||"No content available 💔",onBoxOpenEnd:function(){boxPopup.$popup.find(".icon.bt.bt-round.bt-44").on("click",(()=>{boxPopup.close(),document.getElementById("pop-popup").classList.remove("shadow-box")}))},onBoxCloseStart:function(){boxPopup.$popup.find(".icon.bt.bt-round.bt-44").off()}})}))}))}function displayNewMods(){if(navigator.onLine){const o=document.getElementById("modNews"),n=document.querySelector("#pop-modhistory .container");let e=document.querySelector(".banner-mods-news");e?e.style.backgroundImage="url('https://raw.githubusercontent.com/RemmieUwU/Incredimods/refs/heads/main/main-banner-min.png')":(e=document.createElement("div"),e.classList.add("banner-mods-news"),e.style.backgroundColor="#222",e.style.backgroundImage="url('https://raw.githubusercontent.com/RemmieUwU/Incredimods/refs/heads/main/main-banner-min.png')",n.parentElement.insertBefore(e,n)),fetch("https://raw.githubusercontent.com/RemmieUwU/Incredimods/refs/heads/main/modData.json").then((o=>o.json())).then((n=>{o.innerHTML="",n.mods.forEach((n=>{const e=document.createElement("div");if(e.classList.add("newsModBoxes"),e.onclick=()=>confirmNavigation(n.modLink),n.customCSS&&""!==n.customCSS.trim()){const o=document.createElement("style");o.textContent=n.customCSS,e.appendChild(o)}e.innerHTML+=` \n              <div class="newModIcon" style="background-image: url('${n.imgico}');"></div>\n              <div class="tittle">${n.name}</div>\n              <div class="txt">By: ${n.developers}</div>\n              <div class="txt">${n.date}</div>\n              <div class="newModBoxBG" style="background-image:url('${n.imgbg}')"></div>\n            `,o.appendChild(e)}))}))}else{document.getElementById("modNews").innerHTML='<div style="color:white; padding:20px; text-align:center;">No internet connection ❌<br>Please check your Wi-Fi!</div>'}}dbRequest.onupgradeneeded=function(o){let n=o.target.result;n.objectStoreNames.contains("modIcons")||n.createObjectStore("modIcons",{keyPath:"name"})},dbRequest.onerror=function(){},registerMod(),getLastPlayed(RegisterMod),loadNewButtonModsNews(),OnClick("tab-modhistory",(function(){displayNewMods(),loadNewButtonModsNews()}));const modNews=document.getElementById("modNews");let currentScroll=0,targetScroll=0,isScrolling=!1;if(modNews){function smoothScroll(){currentScroll+=.1*(targetScroll-currentScroll);const o=modNews.scrollWidth-modNews.offsetWidth;currentScroll=Math.max(0,Math.min(currentScroll,o)),modNews.scrollLeft=currentScroll,Math.abs(targetScroll-currentScroll)>.5?requestAnimationFrame(smoothScroll):(currentScroll=targetScroll,isScrolling=!1)}modNews.addEventListener("wheel",(o=>{o.preventDefault();const n=modNews.scrollWidth-modNews.offsetWidth;targetScroll=Math.max(0,Math.min(targetScroll+o.deltaY,n)),isScrolling||(isScrolling=!0,smoothScroll())}),{passive:!1})}window.addEventListener("beforeunload",(()=>{localStorage.setItem("lastPage",window.location.href)}));let AchievementON=!1;function setAchievement(o,n,e,t,i,s,l){let c=JSON.parse(localStorage.getItem(`achievements_${o}`))||{};AchievementON||(AchievementON=!0),c[n]||(c[n]={status:"locked",icon:e,name:t,description:i,type:s,progress:0,maxProgress:l}),localStorage.setItem(`achievements_${o}`,JSON.stringify(c))}function addProgressAchievement(o,n,e){let t=JSON.parse(localStorage.getItem(`achievements_${o}`))||{};if(t[n]){if("unlocked"===t[n].status)return;let i=t[n].maxProgress;if(void 0===i)return;t[n].progress+=e,t[n].progress>=i&&(t[n].progress=i,t[n].status="unlocked"),localStorage.setItem(`achievements_${o}`,JSON.stringify(t)),updateProgressUI(n,t[n].progress,i)}}function updateProgressUI(o,n,e){document.querySelectorAll(".achievement").forEach((t=>{let i=t.querySelector(".title");if(i&&i.textContent.includes(o)){let o=t.querySelector("progress");o&&(o.value=n,o.max=e)}}))}function addProgressAchievement(o,n,e){let t=JSON.parse(localStorage.getItem(`achievements_${o}`))||{};if(t[n]){if("unlocked"===t[n].status)return;let i=t[n],s=i.maxProgress;if(void 0===s)return;i.progress+=e,i.progress>=s&&(i.progress=s,i.status="unlocked",showAchievementNotification(i.name,i.icon,i.description)),localStorage.setItem(`achievements_${o}`,JSON.stringify(t)),document.querySelectorAll(".achievement-info progress").forEach((o=>{o.closest(".achievement").querySelector(".title").innerText===i.name&&(o.value=i.progress,o.max=s)})),displayAchievements(RegisterMod)}}function unlockAchievement(o,n){showAchiNotificationDot();let e=JSON.parse(localStorage.getItem(`achievements_${o}`))||{};if(!e[n])return;let t=e[n];"unlocked"!==t.status&&(t.status="unlocked",localStorage.setItem(`achievements_${o}`,JSON.stringify(e)),showAchievementNotification(t.name,t.icon,t.description),displayAchievements(o),localStorage.setItem("achiNotificationDot",achiNotificationDot),achiNotificationDot+=1,localStorage.setItem("achiNotificationDot",achiNotificationDot),showAchiNotificationDot())}function showAchievementNotification(o,n,e){let t=document.getElementById("achievement-container");t||(t=document.createElement("div"),t.id="achievement-container",document.body.appendChild(t));let i=document.createElement("div");i.classList.add("achievement-notification");let s=`img/mod_achievements/${n}`;i.innerHTML=`\n        <img src="${s}" class="achievement-icon">\n        <div class="achievement-text">\n            <div class="title">${o}</div>\n            <div class="text">${e}</div>\n        </div>\n    `,t.appendChild(i),setTimeout((()=>{i.classList.add("visible")}),10),setTimeout((()=>{i.classList.remove("visible"),setTimeout((()=>i.remove()),500)}),5e3)}function displayAchievements(o){let n=JSON.parse(localStorage.getItem(`achievements_${o}`))||{},e=document.getElementById("achievements-list");if(e.innerHTML="",0!==Object.keys(n).length)for(let o in n){let t=n[o],i=document.createElement("div");i.classList.add("achievement");let s=`img/mod_achievements/${t.icon}`,l="locked"===t.status?"grayscale":"",c="locked"===t.status&&"hidden"===t.type?"???":t.name,a="locked"===t.status&&"hidden"===t.type?"???":t.description;i.innerHTML=`\n            <img src="${s}" class="achievement-icon ${l}">\n            <div class="achievement-info">\n                <div class="title">${c}</div>\n                <div class="text">${a}</div>\n                ${"progress"===t.type?`<progress id="progress-${o}" value="${t.progress}" max="${t.maxProgress}"></progress>`:""}\n            </div>\n        `,e.appendChild(i)}else e.innerHTML="<p>No achievements yet!</p>"}OnDelayIn(1e3,(()=>{AchievementON||document.getElementById("tab-myachi").remove()}));const style=document.createElement("style");function initPictoSize(){const o=document.getElementById("box-picto");if(!o)return;const n=o.style.width;920!==o.offsetWidth?(o.style.width="920px",requestAnimationFrame((()=>{applyPictoWidth(),o.style.width=n||""}))):applyPictoWidth()}function applyPictoWidth(){document.querySelectorAll(".pictoline").forEach((o=>{const n=85*Array.from(o.querySelectorAll(".picto")).filter((o=>"none"!==window.getComputedStyle(o).display)).length/o.parentElement.offsetWidth*100;o.style.width=`${n}%`}))}style.innerHTML="\n    .achievement-icon.grayscale {\n        filter: grayscale(100%);\n        opacity: 0.5;\n    }\n",document.head.appendChild(style),document.getElementById("tab-myachi").addEventListener("click",(function(){displayAchievements(RegisterMod)}));const defaultBonusSVG='<svg viewBox="0 0 70 70" xmlns="http://www.w3.org/2000/svg"><path fill="#ffffff" d="M 56.7 34.35Q 52.95 27.7 47.2 23.95 41.45 20.2 35.2 20.2 28.85 20.2 23.1 24 17.3 27.9 13.6 34.35 12.85 35.15 13.6 35.75 17.3 42.55 23.1 46.25 28.75 50 35.2 50 41.3 50 47.2 46.2 52.75 42.5 56.7 35.75 56.9 35.15 56.7 34.35M 35.2 28Q 38 28 40.2 30.2 42.2 32.2 42.2 35.1 42.2 38 40.2 40.1 38 42.25 35.2 42.25 32.2 42.25 30.1 40.1 28.1 38.2 28.1 35.1 28.1 32.25 30.2 30.2 32.35 28 35.2 28M 114.25 23.9Q 114.25 20.5 111.65 17.75 108.8 14.9 104.9 14.9 100.95 14.9 98.1 17.75 95.35 20.6 95.35 23.9L 95.35 29.25 92.75 29.25Q 91.85 29.25 91.1 30 90.45 30.6 90.45 31.55L 90.45 49Q 90.45 50 91.1 50.5 91.85 51.25 92.75 51.25L 117.15 51.25Q 118.1 51.25 118.75 50.5 119.45 49.95 119.45 49L 119.45 31.55Q 119.45 30.6 118.75 30 118.1 29.25 117.15 29.25L 114.25 29.25 114.25 23.9M 109.25 20.25Q 110.9 22.05 110.9 23.9L 110.9 29.25 98.85 29.25 98.85 23.9Q 98.85 21.95 100.5 20.25 102.25 18.3 104.9 18.3 107.4 18.3 109.25 20.25 Z"/></svg>',lockedBonusSVG='<svg viewBox="0 0 70 70" xmlns="http://www.w3.org/2000/svg"><path fill="#ffffff" d="M 44.3 29.25L 44.3 23.9Q 44.3 20.5 41.7 17.75 38.85 14.9 34.95 14.9 31 14.9 28.15 17.75 25.4 20.6 25.4 23.9L 25.4 29.25 22.8 29.25Q 21.9 29.25 21.15 30 20.5 30.6 20.5 31.55L 20.5 49Q 20.5 50 21.15 50.5 21.9 51.25 22.8 51.25L 47.2 51.25Q 48.15 51.25 48.8 50.5 49.5 49.95 49.5 49L 49.5 31.55Q 49.5 30.6 48.8 30 48.15 29.25 47.2 29.25L 44.3 29.25M 40.95 23.9L 40.95 29.25 28.9 29.25 28.9 23.9Q 28.9 21.95 30.55 20.25 32.3 18.3 34.95 18.3 37.45 18.3 39.3 20.25 40.95 22.05 40.95 23.9M -52.7 37Q -52.5 36.4 -52.7 35.6 -56.45 28.95 -62.2 25.2 -67.95 21.45 -74.2 21.45 -80.55 21.45 -86.3 25.25 -92.1 29.15 -95.8 35.6 -96.55 36.4 -95.8 37 -92.1 43.8 -86.3 47.5 -80.65 51.25 -74.2 51.25 -68.1 51.25 -62.2 47.45 -56.65 43.75 -52.7 37M -69.2 31.45Q -67.2 33.45 -67.2 36.35 -67.2 39.25 -69.2 41.35 -71.4 43.5 -74.2 43.5 -77.2 43.5 -79.3 41.35 -81.3 39.45 -81.3 36.35 -81.3 33.5 -79.2 31.45 -77.05 29.25 -74.2 29.25 -71.4 29.25 -69.2 31.45 Z"/></svg>',imageCache={bonusIcons:{}};function initBonusesIcons(){console.log("Initializing bonus icons..."),app.bonusarray.forEach(((o,n)=>{const e=document.getElementById(`bt-bonus-${n+1}`);if(!e)return void console.log(`Bonus element not found: bt-bonus-${n+1}`);const t=e.querySelector(".icon .icn-bck");if(!t)return void console.log(`Icon div not found in bonus element ${n+1}`);const i=()=>{const i=e.classList.contains("unlock"),s=o.icon&&""!==o.icon.trim();if(console.log(`Updating icon for bonus ${n+1}: unlocked=${i}, hasIcon=${s}`),i)if(s){const e=`${app.folder}video/${o.icon}`,i=imageCache.bonusIcons[e];i&&i.loaded&&i.objectURL?(t.innerHTML="",t.style.backgroundImage=`url('${i.objectURL}')`,t.style.backgroundSize="cover",t.style.backgroundPosition="center",console.log(`Using cached icon for bonus ${n+1}`)):i&&i.loadError?(console.warn(`Using default SVG for bonus ${n+1} (icon failed to load earlier)`),t.style.backgroundImage="",t.innerHTML=defaultBonusSVG):(console.log(`Icon not in cache for bonus ${n+1}, loading: ${e}`),fetch(e).then((o=>{if(!o.ok)throw new Error("Image fetch failed");return o.blob()})).then((o=>{const i=URL.createObjectURL(o);imageCache.bonusIcons[e]={loaded:!0,objectURL:i},t.innerHTML="",t.style.backgroundImage=`url('${i}')`,t.style.backgroundSize="cover",t.style.backgroundPosition="center",console.log(`Icon loaded and cached for bonus ${n+1}`)})).catch((o=>{console.error(`Error loading bonus icon [${e}]`,o),imageCache.bonusIcons[e]={loadError:!0},t.style.backgroundImage="",t.innerHTML=defaultBonusSVG})))}else t.style.backgroundImage="",t.innerHTML=defaultBonusSVG;else t.style.backgroundImage="",t.innerHTML=lockedBonusSVG};i();new MutationObserver(i).observe(e,{attributes:!0,attributeFilter:["class"]})}))}function cleanupImageCache(){Object.values(imageCache.bonusIcons).forEach((o=>{o.objectURL&&URL.revokeObjectURL(o.objectURL)})),imageCache.bonusIcons={}}function adjustIconsChecker(){let o=getVersionFromURL();document.getElementById(`icon${o}`).classList.add("open")}function fixPictoSizeSprite(){const o=app.animearray.length-1;for(let n=0;n<=o;n++){const e=document.querySelector(`#box-bottom #box-picto .picto#picto${n} .bck`);e&&(e.style.backgroundPosition=`calc((100% / ${o}) * ${n}) 0`)}}function modLoaded(){initBonusesIcons(),initPictoSize(),initUpdatedPictoIcons(),displayNewMods(),app.recmaxloop=app.maxrecloop,checkAndShowUpdateNotice(RegisterMod),initAmbience(),afterModLoads(),initBonusSoundSystem(),fixPictoSizeSprite()}function afterModLoads(){}function waitForElement(o,n){const e=setInterval((()=>{const t=document.querySelector(o);t&&(clearInterval(e),n(t))}),100)}function changeFavicon(o){let n=document.querySelector("link[rel~='icon']");n||(n=document.createElement("link"),n.rel="icon",document.head.appendChild(n)),n.href=o}waitForElement("#home-bt-play",(o=>{const n=new MutationObserver((e=>{for(const t of e)"attributes"===t.type&&"class"===t.attributeName&&o.classList.contains("animate")&&(n.disconnect(),modLoaded())}));n.observe(o,{attributes:!0})})),OnDelayIn(500,(function(){let o=getVersionFromURL();changeFavicon(`${app.folder}/icon.png`),o&&"Unknown"!==o&&app.name!==RegisterMod?document.title=`${app.name} | ${RegisterMod}`:document.title=`${RegisterMod}`}));let currentFadeTimeout=null,isTransitioningB=!1,transitionStartTime=null,transitionDuration=0,transitionPath=null,transitionTimeRemaining=0;function replaceBackgroundSprite(o,n=500){const e=document.getElementById("bck-current"),t=document.getElementById("bck-next");if(null!==currentFadeTimeout&&(clearTimeout(currentFadeTimeout),currentFadeTimeout=null),0===n)return e.style.transition="none",t.style.transition="none",e.style.opacity=1,t.style.opacity=0,e.style.backgroundImage=`url(${o})`,void(isTransitioningB=!1);transitionPath=o,transitionDuration=n,transitionStartTime=Date.now(),transitionTimeRemaining=n;parseFloat(getComputedStyle(e).opacity);const i=parseFloat(getComputedStyle(t).opacity);isTransitioningB?(e.style.transition="none",t.style.transition="none",e.style.backgroundImage=t.style.backgroundImage,e.style.opacity=i,t.style.opacity=0):(t.style.transition="none",t.style.opacity=0),t.style.backgroundImage=`url(${o})`,isPaused||(t.offsetWidth,e.style.transition=`opacity ${n}ms ease`,t.style.transition=`opacity ${n}ms ease`,t.style.opacity=1,e.style.opacity=0,isTransitioningB=!0,currentFadeTimeout=setTimeout((()=>{finishBackgroundTransition()}),n))}function finishBackgroundTransition(){const o=document.getElementById("bck-current"),n=document.getElementById("bck-next");o.style.transition="none",o.style.backgroundImage=n.style.backgroundImage,o.style.opacity=1,n.style.transition="none",n.style.opacity=0,currentFadeTimeout=null,isTransitioningB=!1,transitionPath=null}function pauseAllDelays(){if(!isPausedD&&(isPausedD=!0,pauseStartTime=Date.now(),activeDelays.forEach((o=>{o.pause()})),isTransitioningB&&null!==currentFadeTimeout)){const o=Date.now()-transitionStartTime;transitionTimeRemaining=Math.max(0,transitionDuration-o),clearTimeout(currentFadeTimeout),currentFadeTimeout=null;const n=document.getElementById("bck-current"),e=document.getElementById("bck-next"),t=parseFloat(getComputedStyle(n).opacity),i=parseFloat(getComputedStyle(e).opacity);n.style.transition="none",e.style.transition="none",n.style.opacity=t,e.style.opacity=i}}function resumeAllDelays(){if(isPausedD&&(isPausedD=!1,pauseStartTime=null,activeDelays.forEach((o=>{o.resume()})),isTransitioningB&&null!==transitionPath)){const o=document.getElementById("bck-current"),n=document.getElementById("bck-next");parseFloat(getComputedStyle(o).opacity),parseFloat(getComputedStyle(n).opacity);n.offsetWidth,o.style.transition=`opacity ${transitionTimeRemaining}ms ease`,n.style.transition=`opacity ${transitionTimeRemaining}ms ease`,n.style.opacity=1,o.style.opacity=0,transitionStartTime=Date.now(),currentFadeTimeout=setTimeout((()=>{finishBackgroundTransition()}),transitionTimeRemaining)}}function setBackgroundLayer(o){document.getElementById("box-stage-bck").style.setProperty("--layer-image",`url(${o})`)}function setPictoLayer(o,n=null){let e=document.querySelectorAll(".picto .bck");null===n?e.forEach((n=>{n.style.setProperty("--layer-image",`url(${o})`)})):n.forEach((n=>{n>=0&&n<e.length&&e[n].style.setProperty("--layer-image",`url(${o})`)}))}function replacePictoSprite(o){document.querySelectorAll(".picto .bck").forEach((n=>{n.style.backgroundImage=`url(${o})`}))}function initUpdatedPictoIcons(){document.querySelectorAll(".picto").forEach((o=>{const n=parseInt(o.getAttribute("data-picto-num"),10),e=app.animearray[n];if(e&&e.icon&&""!==e.icon.trim()){const n=o.querySelector(".bck");n&&(n.style.backgroundImage=`url('${app.folder}img/${e.icon}')`)}}))}function stageFadeOut(o,n,e=!1,t=null){const i=document.getElementById("box-stage-bck");if(!i)return;const s=i.querySelector(".stage-fade");s&&s.remove();const l=document.createElement("div");l.className="stage-fade",l.style.backgroundColor=o,l.style.opacity=e?"0":"1",l.style.transition=n>0?`opacity ${n}ms ease`:"none",i.appendChild(l),n>0?(l.offsetWidth,l.style.opacity=e?"1":"0",e&&"function"==typeof t&&setTimeout(t,n)):(l.style.opacity=e?"1":"0",e&&"function"==typeof t&&t())}const audioContext=new(window.AudioContext||window.webkitAudioContext);let isAmbiencePlaying=!1,ambiencePath=null,checkingInterval=null,ambienceSource=null,gainNode=null,isTransitioning=!1;const FADE_TIME=1;function shouldPlayAmbience(){return!anyPictoIsBusy()&&!document.body.classList.contains("darkback")}async function setAmbience(o){ModSoundsOn&&(ambiencePath=`${app.folder}sound/mod/ambience-${o}.ogg`,(isAmbiencePlaying||isTransitioning)&&await stopAmbience(),shouldPlayAmbience()&&await playAmbience(ambiencePath),checkingInterval||observePictoState())}async function playAmbience(o){if(ModSoundsOn&&!isTransitioning&&shouldPlayAmbience()){isTransitioning=!0;try{gainNode=audioContext.createGain(),gainNode.gain.setValueAtTime(0,audioContext.currentTime);const n=await fetch(o),e=await n.arrayBuffer(),t=await audioContext.decodeAudioData(e);ambienceSource=audioContext.createBufferSource(),ambienceSource.buffer=t,ambienceSource.loop=!0,ambienceSource.connect(gainNode),gainNode.connect(audioContext.destination),ambienceSource.start(),gainNode.gain.linearRampToValueAtTime(1,audioContext.currentTime+FADE_TIME),isAmbiencePlaying=!0}catch(o){console.error("Error in playAmbience:",o)}finally{isTransitioning=!1}}}async function stopAmbience(o=!0){if(ambienceSource&&gainNode&&!isTransitioning){isTransitioning=!0;try{const o=audioContext.currentTime;gainNode.gain.cancelScheduledValues(o),gainNode.gain.setValueAtTime(gainNode.gain.value,o),gainNode.gain.linearRampToValueAtTime(0,o+FADE_TIME),ambienceSource.stop(o+FADE_TIME)}catch(o){console.warn("Error stopping ambience:",o)}setTimeout((()=>{try{ambienceSource.disconnect(),gainNode.disconnect()}catch(o){}ambienceSource=null,gainNode=null,isAmbiencePlaying=!1,isTransitioning=!1,o&&checkingInterval&&(clearInterval(checkingInterval),checkingInterval=null)}),1e3*FADE_TIME+50)}}function anyPictoIsBusy(){const o=document.querySelectorAll(".picto");return Array.from(o).some((o=>o.classList.contains("drag")||o.classList.contains("griser")))}function observePictoState(){checkingInterval=setInterval((async()=>{shouldPlayAmbience()?isAmbiencePlaying||!ambiencePath||isTransitioning||await playAmbience(ambiencePath):isAmbiencePlaying&&await stopAmbience(!1)}),200)}function checkAndShowUpdateNotice(o){fetch("https://raw.githubusercontent.com/RemmieUwU/Incredimods/refs/heads/main/buildUpdateData.json").then((o=>o.json())).then((n=>{const e=n.id;let t=JSON.parse(localStorage.getItem("shownMessages")||"[]");if(t.includes(e))return;const i=n.devVersionOnly,s=n.versionForEveryone;(i&&"Unknow"===o||s)&&(boxPopup.open({name:"popup-message",icntype:"action",bodyclose:!0,class:"modCreditsBox",content:n.content,onBoxOpenEnd:function(){boxPopup.$popup.find(".icon.bt.bt-round.bt-44").on("click",(()=>{boxPopup.close()}))},onBoxCloseStart:function(){boxPopup.$popup.find(".icon.bt.bt-round.bt-44").off()}}),t.push(e),localStorage.setItem("shownMessages",JSON.stringify(t)))})).catch((o=>{console.error("Couldn't load update message:",o)}))}onKey("t",(function(){checkAndShowUpdateNotice(RegisterMod)}));const forceMod={openApp:function(){forceUserGesture(clickHomeBtPlay)},openPlayList:function(){forceUserGesture(clickHomeBtPlaylist)},killAllPolos:function(){immediateKillAllPolo(),stopLoop(),clearAllDelays()}};function findInScript(o){let n="";for(var e in window)e.toLowerCase().includes(o)&&(n+=`<p>${e}: ${window[e]}</p>`);boxPopup.open({name:"popup-message",icntype:"action",bodyclose:!0,class:"modCreditsBox",content:`<div class="info-debug">${n}</div>`,onBoxOpenEnd:function(){boxPopup.$popup.find(".icon.bt.bt-round.bt-44").on("click",(()=>{boxPopup.close()}))},onBoxCloseStart:function(){boxPopup.$popup.find(".icon.bt.bt-round.bt-44").off()}})}let shakingIntervals=[],wiggleAnimationFrame=null;const pictoTransforms=new Map;function updateTransform(o){const n=pictoTransforms.get(o)||{shake:{x:0,y:0},wiggle:{x:0,y:0}},e=n.shake.x+n.wiggle.x,t=n.shake.y+n.wiggle.y;o.style.transform=`translate(${e}px, ${t}px)`}function initShakingPicto(o,n){document.querySelectorAll(".picto").forEach((e=>{const t=e.querySelector(".bck");if(t){const e=setInterval((()=>{const n=(Math.random()-.5)*o,e=(Math.random()-.5)*o,i=pictoTransforms.get(t)||{shake:{x:0,y:0},wiggle:{x:0,y:0}};i.shake.x=n,i.shake.y=e,pictoTransforms.set(t,i),updateTransform(t),updateTransform(t)}),n);shakingIntervals.push({id:e,bck:t})}}))}function resetShakingPicto(o=.2){shakingIntervals.forEach((n=>{clearInterval(n.id);let e=n.bck,t=4;const i=setInterval((()=>{if(t-=o,t<=0){clearInterval(i);const o=pictoTransforms.get(e)||{x:0,y:0};o.x=0,o.y=0,pictoTransforms.set(e,o),e.style.transition="transform 0.3s ease",updateTransform(e),setTimeout((()=>{e.style.transition=""}),300)}else{const o=(Math.random()-.5)*t,n=(Math.random()-.5)*t,i=pictoTransforms.get(e)||{x:0,y:0};i.x=o,i.y=n,pictoTransforms.set(e,i),updateTransform(e)}}),50)})),shakingIntervals=[]}function wigglePictos(o=2,n=10){const e=document.querySelectorAll(".picto");let t=null;wiggleAnimationFrame=requestAnimationFrame((function i(s){t||(t=s);const l=(s-t)/1e3;e.forEach(((e,t)=>{const i=e.querySelector(".bck");if(i){const e=.3*t,s=Math.sin((l-e)*o)*n,c=pictoTransforms.get(i)||{shake:{x:0,y:0},wiggle:{x:0,y:0}};c.wiggle.y=s,pictoTransforms.set(i,c),updateTransform(i)}})),wiggleAnimationFrame=requestAnimationFrame(i)}))}function stopWiggle(){cancelAnimationFrame(wiggleAnimationFrame);document.querySelectorAll(".picto").forEach((o=>{const n=o.querySelector(".bck");if(n){const o=pictoTransforms.get(n)||{x:0,y:0};o.y=0,pictoTransforms.set(n,o),updateTransform(n)}}))}function toggleDarkMode(){document.body.classList.toggle("darkmode")}function openVotedMods(){boxPopup.open({name:"popup-message",icntype:"action",bodyclose:!0,class:"modCreditsBox shadow-box",content:"Highly rated mods will appear here... Empty for now 🥀",onBoxOpenEnd:function(){boxPopup.$popup.find(".icon.bt.bt-round.bt-44").on("click",(()=>{boxPopup.close()}))},onBoxCloseStart:function(){boxPopup.$popup.find(".icon.bt.bt-round.bt-44").off()}})}OnClick("bt-stop",(function(){clearAllDelays(),QuickMessage("All delays cleaned")}));let _gamePausedByUser=!1;function initAmbience(){app.ambience&&setAmbience(app.ambience)}function updateSingleVersionURL(){document.getElementById("noYT-prev").style.backgroundImage=`url('./${app.folder}img/home-screen@2x.jpg')`,document.querySelectorAll(".icon-prev").forEach((o=>{o.style.backgroundImage=`url('./${app.folder}img/game-picto@2x.png')`}))}function openAboutPop(){boxPopup.open({name:"popup-message",bodyclose:!0,class:"modCreditsBox invBor",content:`<div class="modCoverWrapper">\n  <canvas id="modCoverCanvas" width="678" height="282"></canvas>\n</div><div class="mod-info-single">\n    <div class="single-version-icon"></div>\n    <div class="title">${RegisterMod}</div>\n    <div class="txt">${modInfo.description?`${modInfo.description}`:"No info about this mod"}</div>\n    <div class="footer-pop">${modInfo.relatedVideo?`<iframe style="margin-top: 10px;" width="480" height="270" src="${modInfo.relatedVideo.replace("watch?v=","embed/")}"></iframe>`:'<div id="noYT-prev">\n      <div class="icon-prev n2"></div>\n      <div class="icon-prev n1"></div></div>'}</div>\n  </div>`,onBoxOpenEnd:function(){boxPopup.$popup.find(".icon.bt.bt-round.bt-44").on("click",(function(){boxPopup.close(),document.getElementById("pop-popup").classList.remove("invBor")}));const o=document.getElementById("modCoverCanvas"),n=o.getContext("2d"),e=new Image,t=new Image,i=new Image;const[s,l,c]=(a=3,[...app.animearray].sort((()=>.5-Math.random())).slice(0,a));var a;function r(o,n){const e=[`anime/${n}-sprite-hd.png`,`${app.folder}/anime/${n}-sprite-hd.png`,`../anime/${n}-sprite-hd.png`,`../${app.folder}/anime/${n}-sprite-hd.png`,`../../anime/${n}-sprite-hd.png`,`asset/anime/${n}-sprite-hd.png`,`assets/anime/${n}-sprite-hd.png`,`/anime/${n}-sprite-hd.png`,`/${app.folder}/anime/${n}-sprite-hd.png`];let t=0;if(window.workingSpritePath){const e=window.workingSpritePath.replace("{name}",n);return console.log(`Using known working path for ${n}: ${e}`),void(o.src=e)}!function i(){if(t>=e.length)return void console.error(`Failed to load sprite: ${n} after trying all paths`);const s=e[t];console.log(`Trying path for ${n}: ${s}`),o.onload=()=>{console.log(`SUCCESSFULLY loaded sprite ${n} with path: ${s}`),window.workingSpritePath=s.replace(n,"{name}"),console.log(`Found working path pattern: ${window.workingSpritePath}`)},o.onerror=()=>{console.log(`Failed with path: ${s}`),t++,i()},o.src=s}()}console.log("Loading sprites for:",s.name,l.name,c.name),r(e,s.name),r(t,l.name),r(i,c.name),setTimeout((()=>{try{const s=328,l=760;n.clearRect(0,0,o.width,o.height);const c=n.createLinearGradient(44,0,146,o.height);c.addColorStop(0,app.col1),c.addColorStop(1,app.col3),n.fillStyle=c,n.fillRect(0,0,o.width,o.height);let a=0;if(e.complete&&0!==e.naturalWidth&&a++,t.complete&&0!==t.naturalWidth&&a++,i.complete&&0!==i.naturalWidth&&a++,a>0){if(t.complete&&0!==t.naturalWidth&&i.complete&&0!==i.naturalWidth){const e=.8,c=s*e,a=l*e,r=(o.height-a)/2+127,u=145,d=(o.width-c)/2-u,f=(o.width-c)/2+u;n.save(),n.globalAlpha=.4,n.filter="brightness(100%)",n.shadowColor="rgba(0, 0, 0, 0.5)",n.shadowBlur=60,n.shadowOffsetX=0,n.shadowOffsetY=8;try{n.drawImage(t,0,0,s,l,d,r,c,a),n.drawImage(i,0,0,s,l,f,r,c,a)}catch(o){console.error("Error drawing side sprites:",o)}n.restore()}const c=n.createLinearGradient(0,0,0,o.height);if(c.addColorStop(0,"rgba(0, 0, 0, 0)"),c.addColorStop(.5,"rgba(0,0,0,0.3)"),c.addColorStop(1,"rgba(0,0,0,0.6)"),n.fillStyle=c,n.fillRect(0,0,o.width,o.height),n.fillStyle="rgba(0, 0, 0, 0.15)",n.fillRect(0,0,o.width,o.height),e.complete&&0!==e.naturalWidth){const t=s,i=l,c=(o.width-t)/2,a=(o.height-i)/2+137;n.save(),n.beginPath(),n.rect(c,a,t,i),n.clip();try{n.drawImage(e,0,0,s,l,c,a,t,i)}catch(o){console.error("Error drawing front sprite:",o)}n.restore()}}}catch(o){console.error("Error in canvas rendering:",o)}}),1e3)},onBoxCloseStart:function(){boxPopup.$popup.find(".icon.bt.bt-round.bt-44").off()},onCloseComplete:function(){console.log("Popup closed"),document.getElementById("pop-popup").classList.remove("invBor")}}),updateSingleVersionURL()}Object.defineProperty(window,"gamePausedByUser",{get:()=>_gamePausedByUser,set(o){o!==_gamePausedByUser&&(_gamePausedByUser=o,o?pauseAllDelays():resumeAllDelays())}}),document.addEventListener("DOMContentLoaded",(function(){window.app=window.app||{},window.electron?(app.isElectron=!0,app.electronAppPath=window.electron.paths.appPath,app.folder=""):(app.isElectron=!1,app.folder="asset-v1/")})),onKeyHold("q","r",(()=>{clickBtRecord()})),onKeyHold("w","r",(()=>{clickBtRandom()})),onKeyHold("a","r",(()=>{stopAllStage(),clearAllDelays()}));let singleVersionMod=!1;function logDebug(o){console.log(`[VersionManager] ${o}`)}function unHide(o){const n=document.getElementById(`icon${o}`);if(!n)return!1;try{return n.style.removeProperty("display"),n.style.display="block",n.dataset.hidden="false",logDebug(`unhid icon${o}`),updateSwitchButtonState(),!0}catch(n){return console.error(`Error unhiding icon${o}:`,n),!1}}function Hide(o){const n=document.getElementById(`icon${o}`);if(!n)return!1;try{return n.style.display="none",n.dataset.hidden="true",updateSwitchButtonState(),!0}catch(n){return console.error(`Error hiding icon${o}:`,n),!1}}function updateSwitchButtonState(){const o=document.querySelectorAll('[id^="icon"]'),n=Array.from(o).filter((o=>{const n="none"!==window.getComputedStyle(o).display,e=o.classList.contains("vicon");return n&&e}));singleVersionMod=1===n.length;const e=document.querySelector("#home-bt-switch use");if(e){const o=singleVersionMod?"#ic-rate":"#ic-switch";e.setAttribute("xlink:href",o)}}function setupSwitchButton(){logDebug("Setting up switch button"),"function"==typeof OnClick?OnClick("home-bt-switch",(()=>{singleVersionMod?openAboutPop():popupSwitch()})):console.error("OnClick function not available yet")}function checkIfModRegistered(){modRegistered="Unknown"!==RegisterMod}window.checkAllIcons=function(){const o=document.querySelectorAll('[id^="icon"]');return console.log(`Found ${o.length} icon elements`),o.forEach((o=>{const n=o.id,e=window.getComputedStyle(o).display;console.log(`${n}: display = ${e}`)})),"Icon check complete"},setTimeout((()=>{updateSwitchButtonState(),setupSwitchButton(),adjustIconsChecker()}),600),OnDelayIn(400,(()=>{checkIfModRegistered()}));

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////// /$$$$$$                  /$$                 /$$                                       ////////////////
//////////// /$$__  $$                | $$                | $$                                      ////////////////
//////////// | $$  \__/  /$$$$$$   /$$$$$$$  /$$$$$$       | $$$$$$$   /$$$$$$   /$$$$$$   /$$$$$$  ////////////////
//////////// | $$       /$$__  $$ /$$__  $$ /$$__  $$      | $$__  $$ /$$__  $$ /$$__  $$ /$$__  $$ ////////////////
//////////// | $$      | $$  \ $$| $$  | $$| $$$$$$$$      | $$  \ $$| $$$$$$$$| $$  \__/| $$$$$$$$ ////////////////
//////////// | $$    $$| $$  | $$| $$  | $$| $$_____/      | $$  | $$| $$_____/| $$      | $$_____/ ////////////////
//////////// |  $$$$$$/|  $$$$$$/|  $$$$$$$|  $$$$$$$      | $$  | $$|  $$$$$$$| $$      |  $$$$$$$ ////////////////
//////////// \______/  \______/  \_______/ \_______/      |__/  |__/ \_______/|__/       \_______/  ////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// Register your mod here
var RegisterMod = "Unknown";
var RegisterModVersion = "1.4.7";
var ModDeveloper = "Secret Developer";

modInfo = {
  description: "You can edit mod description and details inside js/mod.js", // Some description about your mod, not too long
  relatedVideo: "", // YouTube video link of a teaser or release (or just anything about mod) - you can also leave it empty
};

function onLockedIcon(){
  boxDialog.open('locked')
}
